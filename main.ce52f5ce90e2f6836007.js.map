{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/color/index.js","webpack:///./node_modules/color-name/index.js","webpack:///./node_modules/color-convert/conversions.js","webpack:///./src/style.scss?75ba","webpack:///./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack:///./src/style.scss","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/color-string/index.js","webpack:///./node_modules/simple-swizzle/index.js","webpack:///./node_modules/is-arrayish/index.js","webpack:///./node_modules/color-convert/index.js","webpack:///./node_modules/color-convert/route.js","webpack:///./src/lib/canvas.js","webpack:///./src/state/game.js","webpack:///./node_modules/geotic/build/index.js","webpack:///./src/lib/graphics.js","webpack:///./src/state/ecs.js","webpack:///./src/systems/render.js","webpack:///./src/index.js","webpack:///./src/lib/process-user-input.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","colorString","convert","_slice","slice","skippedModels","hashedModelKeys","keys","forEach","model","labels","sort","join","limiters","Color","obj","this","Error","channels","color","valpha","result","length","newArr","zeroArray","splice","indexOf","alpha","hashedKeys","JSON","stringify","push","limit","Math","max","min","freeze","getset","channel","modifier","Array","isArray","val","arguments","maxfn","v","assertArray","arr","toString","string","toJSON","places","self","to","rgb","args","round","concat","percentString","percent","array","unitArray","unitObject","g","b","map","num","Number","toFixed","roundTo","roundToPlace","red","green","blue","hue","saturationl","lightness","saturationv","chroma","gray","white","wblack","cyan","magenta","yellow","black","x","y","z","a","keyword","hex","rgbNumber","luminosity","lum","chan","pow","contrast","color2","lum1","lum2","level","contrastRatio","isDark","isLight","negate","lighten","ratio","hsl","darken","saturate","desaturate","whiten","hwb","blacken","grayscale","fade","opaquer","rotate","degrees","mix","mixinColor","weight","color1","undefined","w","w1","w2","newAlpha","raw","cssKeywords","reverseKeywords","hsv","cmyk","xyz","lab","lch","ansi16","ansi256","hcg","apple","h","delta","rdif","gdif","bdif","diff","diffc","k","reversed","currentClosestKeyword","currentClosestDistance","Infinity","distance","t1","t2","t3","smin","lmin","hi","floor","f","q","sl","vmin","wh","bl","y2","x2","z2","atan2","PI","sqrt","hr","cos","sin","ansi","mult","rem","toUpperCase","substring","match","split","char","integer","parseInt","mg","pure","api","content","default","options","locals","memo","isOldIE","Boolean","window","document","all","atob","getTarget","target","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","e","stylesInDom","getIndexByIdentifier","identifier","modulesToDom","list","idCountMap","identifiers","item","id","base","count","index","css","media","sourceMap","references","updater","addStyle","insertStyleElement","style","createElement","attributes","nonce","setAttribute","insert","appendChild","textStore","replaceText","replacement","filter","applyToSingletonTag","remove","styleSheet","cssText","cssNode","createTextNode","childNodes","removeChild","insertBefore","applyToTag","removeAttribute","btoa","unescape","encodeURIComponent","firstChild","singleton","singletonCounter","update","styleIndex","parentNode","removeStyleElement","newObj","lastIdentifiers","newList","newLastIdentifiers","_i","_index","___CSS_LOADER_API_IMPORT___","useSourceMap","cssMapping","sourceMapping","base64","data","sourceURLs","sources","source","sourceRoot","cssWithMappingToString","mediaQuery","dedupe","alreadyImportedModules","colorNames","swizzle","reverseNames","cs","clamp","hexDouble","str","toLowerCase","hexAlpha","i2","parseFloat","isNaN","rgba","hsla","hwba","isArrayish","results","len","arg","wrap","fn","Function","getOwnPropertyDescriptor","constructor","conversions","route","fromModel","routes","toModel","wrappedFn","conversion","wrapRounded","wrapRaw","deriveBFS","graph","models","parent","buildGraph","queue","current","pop","adjacents","adjacent","node","unshift","link","from","wrapConversion","path","cur","canvas","ctx","pixelRatio","devicePixelRatio","getContext","grid","calculatedFontSize","innerWidth","cellWidth","cellHeight","fontSize","width","height","font","textAlign","textBaseline","drawBackground","position","fillStyle","fillRect","drawChar","fillText","state","userInput","playerTurn","turn","_defineProperty","configurable","writable","_classPrivateFieldGet","receiver","privateMap","descriptor","TypeError","_classPrivateFieldSet","set","camelCase","input","pascalCase","trim","toLocaleUpperCase","toLocaleLowerCase","isLastCharLower","isLastCharUpper","isLastLastCharUpper","character","test","preserveCamelCase","replace","_","p1","charAt","camelcase","_default","Property","component","ecs","entity","SimpleProperty","super","EntityProperty","entities","removeRef","addRef","getEntity","console","warn","EntityArrayProperty","proxy","Proxy","prop","Reflect","old","deleteProperty","values","ref","PropertyStrategy","Component","_entity","_ecs","_isDestroyed","allowMultiple","keyProperty","ob","entries","_props","properties","_defineProxies","reduce","serialize","queries","onComponentAdded","onAttached","isAttached","onDetached","onComponentRemoved","onDestroyed","destroy","_onDestroyed","evt","onEvent","handlerName","propertyName","initialProperties","initialValue","_defaultPropertyValue","WeakMap","ComponentRegistry","_nameCache","Map","_definitions","_ecs$1","type","has","typeOrClassOrComponent","_getType","typeOrClass","definition","isMergeableObject","isNonNullObject","stringValue","$$typeof","REACT_ELEMENT_TYPE","isReactElement","isSpecial","for","cloneUnlessOtherwiseSpecified","clone","deepmerge","defaultArrayMerge","element","getKeys","getOwnPropertySymbols","symbol","propertyIsEnumerable","getEnumerableOwnPropertySymbols","propertyIsOnObject","mergeObject","destination","propertyIsUnsafe","customMerge","getMergeFunction","arrayMerge","sourceIsArray","prev","next","cjs","PrefabComponent","componentDef","overwrite","initialProps","log","props","add","Prefab","prefabComponent","components","inherit","applyToEntity","arrComps","accessor","getAccessor","initialCompProps","PrefabRegistry","_prefabs","_ecs$2","registered","prefab","comps","componentData","def","addComponent","register","nameOrClassOrPrefab","_getName","nameOrClass","createEntity","EntityEvent","_prevented","_handled","Entity","_ecs$3","_components","_isDestroyed$1","_id","generateId","hasType","nestedComponent","onEntityDestroyed","attach","_onAttached","isComponent","instance","_onDetached","o2","k2","v2","_onEvent","prevented","EntityRegistry","_entities","_ecs$4","_refs","onEntityCreated","cleanupRefs","delete","refs","cleanupReference","entityId","Set","json","entityData","createOrGetById","deserializeEntity","Query","_ecs$5","_filter","_cache","any","none","bustCache","hasAny","some","hasAll","every","hasNone","isMatch","candidate","clear","QueryRegistry","_ecs$6","_queries","filters","query","_onComponentAdded","_onComponentRemoved","_onEntityCreated","_onEntityDestroyed","colors","defaultColor","defaultBGColor","inventoryHighlight","torchLight","campfire","fountain","armor","bandage","chest","currency","multipleItems","potion","weapon","hudText","healthBar","wall","cavernFloor","stairsUp","stairsDown","player","goblin","rat","idGenerator","size","random","nanoid","prefabs","deserialize","Position","Appearance","background","layer","registerComponent","render","clearRect","createQuery","fg","bg","appearance","bgColor","charColor","pos","drawCell","gameTick","game","payload","processUserInput","addEventListener","ev","requestAnimationFrame","gameLoop"],"mappings":"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","file":"main.ce52f5ce90e2f6836007.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 12);\n","'use strict';\n\nvar colorString = require('color-string');\nvar convert = require('color-convert');\n\nvar _slice = [].slice;\n\nvar skippedModels = [\n\t// to be honest, I don't really feel like keyword belongs in color convert, but eh.\n\t'keyword',\n\n\t// gray conflicts with some method names, and has its own method defined.\n\t'gray',\n\n\t// shouldn't really be in color-convert either...\n\t'hex'\n];\n\nvar hashedModelKeys = {};\nObject.keys(convert).forEach(function (model) {\n\thashedModelKeys[_slice.call(convert[model].labels).sort().join('')] = model;\n});\n\nvar limiters = {};\n\nfunction Color(obj, model) {\n\tif (!(this instanceof Color)) {\n\t\treturn new Color(obj, model);\n\t}\n\n\tif (model && model in skippedModels) {\n\t\tmodel = null;\n\t}\n\n\tif (model && !(model in convert)) {\n\t\tthrow new Error('Unknown model: ' + model);\n\t}\n\n\tvar i;\n\tvar channels;\n\n\tif (obj == null) { // eslint-disable-line no-eq-null,eqeqeq\n\t\tthis.model = 'rgb';\n\t\tthis.color = [0, 0, 0];\n\t\tthis.valpha = 1;\n\t} else if (obj instanceof Color) {\n\t\tthis.model = obj.model;\n\t\tthis.color = obj.color.slice();\n\t\tthis.valpha = obj.valpha;\n\t} else if (typeof obj === 'string') {\n\t\tvar result = colorString.get(obj);\n\t\tif (result === null) {\n\t\t\tthrow new Error('Unable to parse color from string: ' + obj);\n\t\t}\n\n\t\tthis.model = result.model;\n\t\tchannels = convert[this.model].channels;\n\t\tthis.color = result.value.slice(0, channels);\n\t\tthis.valpha = typeof result.value[channels] === 'number' ? result.value[channels] : 1;\n\t} else if (obj.length) {\n\t\tthis.model = model || 'rgb';\n\t\tchannels = convert[this.model].channels;\n\t\tvar newArr = _slice.call(obj, 0, channels);\n\t\tthis.color = zeroArray(newArr, channels);\n\t\tthis.valpha = typeof obj[channels] === 'number' ? obj[channels] : 1;\n\t} else if (typeof obj === 'number') {\n\t\t// this is always RGB - can be converted later on.\n\t\tobj &= 0xFFFFFF;\n\t\tthis.model = 'rgb';\n\t\tthis.color = [\n\t\t\t(obj >> 16) & 0xFF,\n\t\t\t(obj >> 8) & 0xFF,\n\t\t\tobj & 0xFF\n\t\t];\n\t\tthis.valpha = 1;\n\t} else {\n\t\tthis.valpha = 1;\n\n\t\tvar keys = Object.keys(obj);\n\t\tif ('alpha' in obj) {\n\t\t\tkeys.splice(keys.indexOf('alpha'), 1);\n\t\t\tthis.valpha = typeof obj.alpha === 'number' ? obj.alpha : 0;\n\t\t}\n\n\t\tvar hashedKeys = keys.sort().join('');\n\t\tif (!(hashedKeys in hashedModelKeys)) {\n\t\t\tthrow new Error('Unable to parse color from object: ' + JSON.stringify(obj));\n\t\t}\n\n\t\tthis.model = hashedModelKeys[hashedKeys];\n\n\t\tvar labels = convert[this.model].labels;\n\t\tvar color = [];\n\t\tfor (i = 0; i < labels.length; i++) {\n\t\t\tcolor.push(obj[labels[i]]);\n\t\t}\n\n\t\tthis.color = zeroArray(color);\n\t}\n\n\t// perform limitations (clamping, etc.)\n\tif (limiters[this.model]) {\n\t\tchannels = convert[this.model].channels;\n\t\tfor (i = 0; i < channels; i++) {\n\t\t\tvar limit = limiters[this.model][i];\n\t\t\tif (limit) {\n\t\t\t\tthis.color[i] = limit(this.color[i]);\n\t\t\t}\n\t\t}\n\t}\n\n\tthis.valpha = Math.max(0, Math.min(1, this.valpha));\n\n\tif (Object.freeze) {\n\t\tObject.freeze(this);\n\t}\n}\n\nColor.prototype = {\n\ttoString: function () {\n\t\treturn this.string();\n\t},\n\n\ttoJSON: function () {\n\t\treturn this[this.model]();\n\t},\n\n\tstring: function (places) {\n\t\tvar self = this.model in colorString.to ? this : this.rgb();\n\t\tself = self.round(typeof places === 'number' ? places : 1);\n\t\tvar args = self.valpha === 1 ? self.color : self.color.concat(this.valpha);\n\t\treturn colorString.to[self.model](args);\n\t},\n\n\tpercentString: function (places) {\n\t\tvar self = this.rgb().round(typeof places === 'number' ? places : 1);\n\t\tvar args = self.valpha === 1 ? self.color : self.color.concat(this.valpha);\n\t\treturn colorString.to.rgb.percent(args);\n\t},\n\n\tarray: function () {\n\t\treturn this.valpha === 1 ? this.color.slice() : this.color.concat(this.valpha);\n\t},\n\n\tobject: function () {\n\t\tvar result = {};\n\t\tvar channels = convert[this.model].channels;\n\t\tvar labels = convert[this.model].labels;\n\n\t\tfor (var i = 0; i < channels; i++) {\n\t\t\tresult[labels[i]] = this.color[i];\n\t\t}\n\n\t\tif (this.valpha !== 1) {\n\t\t\tresult.alpha = this.valpha;\n\t\t}\n\n\t\treturn result;\n\t},\n\n\tunitArray: function () {\n\t\tvar rgb = this.rgb().color;\n\t\trgb[0] /= 255;\n\t\trgb[1] /= 255;\n\t\trgb[2] /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.push(this.valpha);\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tunitObject: function () {\n\t\tvar rgb = this.rgb().object();\n\t\trgb.r /= 255;\n\t\trgb.g /= 255;\n\t\trgb.b /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.alpha = this.valpha;\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tround: function (places) {\n\t\tplaces = Math.max(places || 0, 0);\n\t\treturn new Color(this.color.map(roundToPlace(places)).concat(this.valpha), this.model);\n\t},\n\n\talpha: function (val) {\n\t\tif (arguments.length) {\n\t\t\treturn new Color(this.color.concat(Math.max(0, Math.min(1, val))), this.model);\n\t\t}\n\n\t\treturn this.valpha;\n\t},\n\n\t// rgb\n\tred: getset('rgb', 0, maxfn(255)),\n\tgreen: getset('rgb', 1, maxfn(255)),\n\tblue: getset('rgb', 2, maxfn(255)),\n\n\thue: getset(['hsl', 'hsv', 'hsl', 'hwb', 'hcg'], 0, function (val) { return ((val % 360) + 360) % 360; }), // eslint-disable-line brace-style\n\n\tsaturationl: getset('hsl', 1, maxfn(100)),\n\tlightness: getset('hsl', 2, maxfn(100)),\n\n\tsaturationv: getset('hsv', 1, maxfn(100)),\n\tvalue: getset('hsv', 2, maxfn(100)),\n\n\tchroma: getset('hcg', 1, maxfn(100)),\n\tgray: getset('hcg', 2, maxfn(100)),\n\n\twhite: getset('hwb', 1, maxfn(100)),\n\twblack: getset('hwb', 2, maxfn(100)),\n\n\tcyan: getset('cmyk', 0, maxfn(100)),\n\tmagenta: getset('cmyk', 1, maxfn(100)),\n\tyellow: getset('cmyk', 2, maxfn(100)),\n\tblack: getset('cmyk', 3, maxfn(100)),\n\n\tx: getset('xyz', 0, maxfn(100)),\n\ty: getset('xyz', 1, maxfn(100)),\n\tz: getset('xyz', 2, maxfn(100)),\n\n\tl: getset('lab', 0, maxfn(100)),\n\ta: getset('lab', 1),\n\tb: getset('lab', 2),\n\n\tkeyword: function (val) {\n\t\tif (arguments.length) {\n\t\t\treturn new Color(val);\n\t\t}\n\n\t\treturn convert[this.model].keyword(this.color);\n\t},\n\n\thex: function (val) {\n\t\tif (arguments.length) {\n\t\t\treturn new Color(val);\n\t\t}\n\n\t\treturn colorString.to.hex(this.rgb().round().color);\n\t},\n\n\trgbNumber: function () {\n\t\tvar rgb = this.rgb().color;\n\t\treturn ((rgb[0] & 0xFF) << 16) | ((rgb[1] & 0xFF) << 8) | (rgb[2] & 0xFF);\n\t},\n\n\tluminosity: function () {\n\t\t// http://www.w3.org/TR/WCAG20/#relativeluminancedef\n\t\tvar rgb = this.rgb().color;\n\n\t\tvar lum = [];\n\t\tfor (var i = 0; i < rgb.length; i++) {\n\t\t\tvar chan = rgb[i] / 255;\n\t\t\tlum[i] = (chan <= 0.03928) ? chan / 12.92 : Math.pow(((chan + 0.055) / 1.055), 2.4);\n\t\t}\n\n\t\treturn 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];\n\t},\n\n\tcontrast: function (color2) {\n\t\t// http://www.w3.org/TR/WCAG20/#contrast-ratiodef\n\t\tvar lum1 = this.luminosity();\n\t\tvar lum2 = color2.luminosity();\n\n\t\tif (lum1 > lum2) {\n\t\t\treturn (lum1 + 0.05) / (lum2 + 0.05);\n\t\t}\n\n\t\treturn (lum2 + 0.05) / (lum1 + 0.05);\n\t},\n\n\tlevel: function (color2) {\n\t\tvar contrastRatio = this.contrast(color2);\n\t\tif (contrastRatio >= 7.1) {\n\t\t\treturn 'AAA';\n\t\t}\n\n\t\treturn (contrastRatio >= 4.5) ? 'AA' : '';\n\t},\n\n\tisDark: function () {\n\t\t// YIQ equation from http://24ways.org/2010/calculating-color-contrast\n\t\tvar rgb = this.rgb().color;\n\t\tvar yiq = (rgb[0] * 299 + rgb[1] * 587 + rgb[2] * 114) / 1000;\n\t\treturn yiq < 128;\n\t},\n\n\tisLight: function () {\n\t\treturn !this.isDark();\n\t},\n\n\tnegate: function () {\n\t\tvar rgb = this.rgb();\n\t\tfor (var i = 0; i < 3; i++) {\n\t\t\trgb.color[i] = 255 - rgb.color[i];\n\t\t}\n\t\treturn rgb;\n\t},\n\n\tlighten: function (ratio) {\n\t\tvar hsl = this.hsl();\n\t\thsl.color[2] += hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdarken: function (ratio) {\n\t\tvar hsl = this.hsl();\n\t\thsl.color[2] -= hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tsaturate: function (ratio) {\n\t\tvar hsl = this.hsl();\n\t\thsl.color[1] += hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdesaturate: function (ratio) {\n\t\tvar hsl = this.hsl();\n\t\thsl.color[1] -= hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\twhiten: function (ratio) {\n\t\tvar hwb = this.hwb();\n\t\thwb.color[1] += hwb.color[1] * ratio;\n\t\treturn hwb;\n\t},\n\n\tblacken: function (ratio) {\n\t\tvar hwb = this.hwb();\n\t\thwb.color[2] += hwb.color[2] * ratio;\n\t\treturn hwb;\n\t},\n\n\tgrayscale: function () {\n\t\t// http://en.wikipedia.org/wiki/Grayscale#Converting_color_to_grayscale\n\t\tvar rgb = this.rgb().color;\n\t\tvar val = rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;\n\t\treturn Color.rgb(val, val, val);\n\t},\n\n\tfade: function (ratio) {\n\t\treturn this.alpha(this.valpha - (this.valpha * ratio));\n\t},\n\n\topaquer: function (ratio) {\n\t\treturn this.alpha(this.valpha + (this.valpha * ratio));\n\t},\n\n\trotate: function (degrees) {\n\t\tvar hsl = this.hsl();\n\t\tvar hue = hsl.color[0];\n\t\thue = (hue + degrees) % 360;\n\t\thue = hue < 0 ? 360 + hue : hue;\n\t\thsl.color[0] = hue;\n\t\treturn hsl;\n\t},\n\n\tmix: function (mixinColor, weight) {\n\t\t// ported from sass implementation in C\n\t\t// https://github.com/sass/libsass/blob/0e6b4a2850092356aa3ece07c6b249f0221caced/functions.cpp#L209\n\t\tif (!mixinColor || !mixinColor.rgb) {\n\t\t\tthrow new Error('Argument to \"mix\" was not a Color instance, but rather an instance of ' + typeof mixinColor);\n\t\t}\n\t\tvar color1 = mixinColor.rgb();\n\t\tvar color2 = this.rgb();\n\t\tvar p = weight === undefined ? 0.5 : weight;\n\n\t\tvar w = 2 * p - 1;\n\t\tvar a = color1.alpha() - color2.alpha();\n\n\t\tvar w1 = (((w * a === -1) ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n\t\tvar w2 = 1 - w1;\n\n\t\treturn Color.rgb(\n\t\t\t\tw1 * color1.red() + w2 * color2.red(),\n\t\t\t\tw1 * color1.green() + w2 * color2.green(),\n\t\t\t\tw1 * color1.blue() + w2 * color2.blue(),\n\t\t\t\tcolor1.alpha() * p + color2.alpha() * (1 - p));\n\t}\n};\n\n// model conversion methods and static constructors\nObject.keys(convert).forEach(function (model) {\n\tif (skippedModels.indexOf(model) !== -1) {\n\t\treturn;\n\t}\n\n\tvar channels = convert[model].channels;\n\n\t// conversion methods\n\tColor.prototype[model] = function () {\n\t\tif (this.model === model) {\n\t\t\treturn new Color(this);\n\t\t}\n\n\t\tif (arguments.length) {\n\t\t\treturn new Color(arguments, model);\n\t\t}\n\n\t\tvar newAlpha = typeof arguments[channels] === 'number' ? channels : this.valpha;\n\t\treturn new Color(assertArray(convert[this.model][model].raw(this.color)).concat(newAlpha), model);\n\t};\n\n\t// 'static' construction methods\n\tColor[model] = function (color) {\n\t\tif (typeof color === 'number') {\n\t\t\tcolor = zeroArray(_slice.call(arguments), channels);\n\t\t}\n\t\treturn new Color(color, model);\n\t};\n});\n\nfunction roundTo(num, places) {\n\treturn Number(num.toFixed(places));\n}\n\nfunction roundToPlace(places) {\n\treturn function (num) {\n\t\treturn roundTo(num, places);\n\t};\n}\n\nfunction getset(model, channel, modifier) {\n\tmodel = Array.isArray(model) ? model : [model];\n\n\tmodel.forEach(function (m) {\n\t\t(limiters[m] || (limiters[m] = []))[channel] = modifier;\n\t});\n\n\tmodel = model[0];\n\n\treturn function (val) {\n\t\tvar result;\n\n\t\tif (arguments.length) {\n\t\t\tif (modifier) {\n\t\t\t\tval = modifier(val);\n\t\t\t}\n\n\t\t\tresult = this[model]();\n\t\t\tresult.color[channel] = val;\n\t\t\treturn result;\n\t\t}\n\n\t\tresult = this[model]().color[channel];\n\t\tif (modifier) {\n\t\t\tresult = modifier(result);\n\t\t}\n\n\t\treturn result;\n\t};\n}\n\nfunction maxfn(max) {\n\treturn function (v) {\n\t\treturn Math.max(0, Math.min(max, v));\n\t};\n}\n\nfunction assertArray(val) {\n\treturn Array.isArray(val) ? val : [val];\n}\n\nfunction zeroArray(arr, length) {\n\tfor (var i = 0; i < length; i++) {\n\t\tif (typeof arr[i] !== 'number') {\n\t\t\tarr[i] = 0;\n\t\t}\n\t}\n\n\treturn arr;\n}\n\nmodule.exports = Color;\n","'use strict'\r\n\r\nmodule.exports = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\r\n","/* MIT license */\nvar cssKeywords = require('color-name');\n\n// NOTE: conversions should only return primitive values (i.e. arrays, or\n//       values that give correct `typeof` results).\n//       do not use box values types (i.e. Number(), String(), etc.)\n\nvar reverseKeywords = {};\nfor (var key in cssKeywords) {\n\tif (cssKeywords.hasOwnProperty(key)) {\n\t\treverseKeywords[cssKeywords[key]] = key;\n\t}\n}\n\nvar convert = module.exports = {\n\trgb: {channels: 3, labels: 'rgb'},\n\thsl: {channels: 3, labels: 'hsl'},\n\thsv: {channels: 3, labels: 'hsv'},\n\thwb: {channels: 3, labels: 'hwb'},\n\tcmyk: {channels: 4, labels: 'cmyk'},\n\txyz: {channels: 3, labels: 'xyz'},\n\tlab: {channels: 3, labels: 'lab'},\n\tlch: {channels: 3, labels: 'lch'},\n\thex: {channels: 1, labels: ['hex']},\n\tkeyword: {channels: 1, labels: ['keyword']},\n\tansi16: {channels: 1, labels: ['ansi16']},\n\tansi256: {channels: 1, labels: ['ansi256']},\n\thcg: {channels: 3, labels: ['h', 'c', 'g']},\n\tapple: {channels: 3, labels: ['r16', 'g16', 'b16']},\n\tgray: {channels: 1, labels: ['gray']}\n};\n\n// hide .channels and .labels properties\nfor (var model in convert) {\n\tif (convert.hasOwnProperty(model)) {\n\t\tif (!('channels' in convert[model])) {\n\t\t\tthrow new Error('missing channels property: ' + model);\n\t\t}\n\n\t\tif (!('labels' in convert[model])) {\n\t\t\tthrow new Error('missing channel labels property: ' + model);\n\t\t}\n\n\t\tif (convert[model].labels.length !== convert[model].channels) {\n\t\t\tthrow new Error('channel and label counts mismatch: ' + model);\n\t\t}\n\n\t\tvar channels = convert[model].channels;\n\t\tvar labels = convert[model].labels;\n\t\tdelete convert[model].channels;\n\t\tdelete convert[model].labels;\n\t\tObject.defineProperty(convert[model], 'channels', {value: channels});\n\t\tObject.defineProperty(convert[model], 'labels', {value: labels});\n\t}\n}\n\nconvert.rgb.hsl = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar min = Math.min(r, g, b);\n\tvar max = Math.max(r, g, b);\n\tvar delta = max - min;\n\tvar h;\n\tvar s;\n\tvar l;\n\n\tif (max === min) {\n\t\th = 0;\n\t} else if (r === max) {\n\t\th = (g - b) / delta;\n\t} else if (g === max) {\n\t\th = 2 + (b - r) / delta;\n\t} else if (b === max) {\n\t\th = 4 + (r - g) / delta;\n\t}\n\n\th = Math.min(h * 60, 360);\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tl = (min + max) / 2;\n\n\tif (max === min) {\n\t\ts = 0;\n\t} else if (l <= 0.5) {\n\t\ts = delta / (max + min);\n\t} else {\n\t\ts = delta / (2 - max - min);\n\t}\n\n\treturn [h, s * 100, l * 100];\n};\n\nconvert.rgb.hsv = function (rgb) {\n\tvar rdif;\n\tvar gdif;\n\tvar bdif;\n\tvar h;\n\tvar s;\n\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar v = Math.max(r, g, b);\n\tvar diff = v - Math.min(r, g, b);\n\tvar diffc = function (c) {\n\t\treturn (v - c) / 6 / diff + 1 / 2;\n\t};\n\n\tif (diff === 0) {\n\t\th = s = 0;\n\t} else {\n\t\ts = diff / v;\n\t\trdif = diffc(r);\n\t\tgdif = diffc(g);\n\t\tbdif = diffc(b);\n\n\t\tif (r === v) {\n\t\t\th = bdif - gdif;\n\t\t} else if (g === v) {\n\t\t\th = (1 / 3) + rdif - bdif;\n\t\t} else if (b === v) {\n\t\t\th = (2 / 3) + gdif - rdif;\n\t\t}\n\t\tif (h < 0) {\n\t\t\th += 1;\n\t\t} else if (h > 1) {\n\t\t\th -= 1;\n\t\t}\n\t}\n\n\treturn [\n\t\th * 360,\n\t\ts * 100,\n\t\tv * 100\n\t];\n};\n\nconvert.rgb.hwb = function (rgb) {\n\tvar r = rgb[0];\n\tvar g = rgb[1];\n\tvar b = rgb[2];\n\tvar h = convert.rgb.hsl(rgb)[0];\n\tvar w = 1 / 255 * Math.min(r, Math.min(g, b));\n\n\tb = 1 - 1 / 255 * Math.max(r, Math.max(g, b));\n\n\treturn [h, w * 100, b * 100];\n};\n\nconvert.rgb.cmyk = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar c;\n\tvar m;\n\tvar y;\n\tvar k;\n\n\tk = Math.min(1 - r, 1 - g, 1 - b);\n\tc = (1 - r - k) / (1 - k) || 0;\n\tm = (1 - g - k) / (1 - k) || 0;\n\ty = (1 - b - k) / (1 - k) || 0;\n\n\treturn [c * 100, m * 100, y * 100, k * 100];\n};\n\n/**\n * See https://en.m.wikipedia.org/wiki/Euclidean_distance#Squared_Euclidean_distance\n * */\nfunction comparativeDistance(x, y) {\n\treturn (\n\t\tMath.pow(x[0] - y[0], 2) +\n\t\tMath.pow(x[1] - y[1], 2) +\n\t\tMath.pow(x[2] - y[2], 2)\n\t);\n}\n\nconvert.rgb.keyword = function (rgb) {\n\tvar reversed = reverseKeywords[rgb];\n\tif (reversed) {\n\t\treturn reversed;\n\t}\n\n\tvar currentClosestDistance = Infinity;\n\tvar currentClosestKeyword;\n\n\tfor (var keyword in cssKeywords) {\n\t\tif (cssKeywords.hasOwnProperty(keyword)) {\n\t\t\tvar value = cssKeywords[keyword];\n\n\t\t\t// Compute comparative distance\n\t\t\tvar distance = comparativeDistance(rgb, value);\n\n\t\t\t// Check if its less, if so set as closest\n\t\t\tif (distance < currentClosestDistance) {\n\t\t\t\tcurrentClosestDistance = distance;\n\t\t\t\tcurrentClosestKeyword = keyword;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn currentClosestKeyword;\n};\n\nconvert.keyword.rgb = function (keyword) {\n\treturn cssKeywords[keyword];\n};\n\nconvert.rgb.xyz = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\n\t// assume sRGB\n\tr = r > 0.04045 ? Math.pow(((r + 0.055) / 1.055), 2.4) : (r / 12.92);\n\tg = g > 0.04045 ? Math.pow(((g + 0.055) / 1.055), 2.4) : (g / 12.92);\n\tb = b > 0.04045 ? Math.pow(((b + 0.055) / 1.055), 2.4) : (b / 12.92);\n\n\tvar x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n\tvar y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n\tvar z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n\treturn [x * 100, y * 100, z * 100];\n};\n\nconvert.rgb.lab = function (rgb) {\n\tvar xyz = convert.rgb.xyz(rgb);\n\tvar x = xyz[0];\n\tvar y = xyz[1];\n\tvar z = xyz[2];\n\tvar l;\n\tvar a;\n\tvar b;\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? Math.pow(x, 1 / 3) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? Math.pow(y, 1 / 3) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? Math.pow(z, 1 / 3) : (7.787 * z) + (16 / 116);\n\n\tl = (116 * y) - 16;\n\ta = 500 * (x - y);\n\tb = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.hsl.rgb = function (hsl) {\n\tvar h = hsl[0] / 360;\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar t1;\n\tvar t2;\n\tvar t3;\n\tvar rgb;\n\tvar val;\n\n\tif (s === 0) {\n\t\tval = l * 255;\n\t\treturn [val, val, val];\n\t}\n\n\tif (l < 0.5) {\n\t\tt2 = l * (1 + s);\n\t} else {\n\t\tt2 = l + s - l * s;\n\t}\n\n\tt1 = 2 * l - t2;\n\n\trgb = [0, 0, 0];\n\tfor (var i = 0; i < 3; i++) {\n\t\tt3 = h + 1 / 3 * -(i - 1);\n\t\tif (t3 < 0) {\n\t\t\tt3++;\n\t\t}\n\t\tif (t3 > 1) {\n\t\t\tt3--;\n\t\t}\n\n\t\tif (6 * t3 < 1) {\n\t\t\tval = t1 + (t2 - t1) * 6 * t3;\n\t\t} else if (2 * t3 < 1) {\n\t\t\tval = t2;\n\t\t} else if (3 * t3 < 2) {\n\t\t\tval = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n\t\t} else {\n\t\t\tval = t1;\n\t\t}\n\n\t\trgb[i] = val * 255;\n\t}\n\n\treturn rgb;\n};\n\nconvert.hsl.hsv = function (hsl) {\n\tvar h = hsl[0];\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar smin = s;\n\tvar lmin = Math.max(l, 0.01);\n\tvar sv;\n\tvar v;\n\n\tl *= 2;\n\ts *= (l <= 1) ? l : 2 - l;\n\tsmin *= lmin <= 1 ? lmin : 2 - lmin;\n\tv = (l + s) / 2;\n\tsv = l === 0 ? (2 * smin) / (lmin + smin) : (2 * s) / (l + s);\n\n\treturn [h, sv * 100, v * 100];\n};\n\nconvert.hsv.rgb = function (hsv) {\n\tvar h = hsv[0] / 60;\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\tvar hi = Math.floor(h) % 6;\n\n\tvar f = h - Math.floor(h);\n\tvar p = 255 * v * (1 - s);\n\tvar q = 255 * v * (1 - (s * f));\n\tvar t = 255 * v * (1 - (s * (1 - f)));\n\tv *= 255;\n\n\tswitch (hi) {\n\t\tcase 0:\n\t\t\treturn [v, t, p];\n\t\tcase 1:\n\t\t\treturn [q, v, p];\n\t\tcase 2:\n\t\t\treturn [p, v, t];\n\t\tcase 3:\n\t\t\treturn [p, q, v];\n\t\tcase 4:\n\t\t\treturn [t, p, v];\n\t\tcase 5:\n\t\t\treturn [v, p, q];\n\t}\n};\n\nconvert.hsv.hsl = function (hsv) {\n\tvar h = hsv[0];\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\tvar vmin = Math.max(v, 0.01);\n\tvar lmin;\n\tvar sl;\n\tvar l;\n\n\tl = (2 - s) * v;\n\tlmin = (2 - s) * vmin;\n\tsl = s * vmin;\n\tsl /= (lmin <= 1) ? lmin : 2 - lmin;\n\tsl = sl || 0;\n\tl /= 2;\n\n\treturn [h, sl * 100, l * 100];\n};\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nconvert.hwb.rgb = function (hwb) {\n\tvar h = hwb[0] / 360;\n\tvar wh = hwb[1] / 100;\n\tvar bl = hwb[2] / 100;\n\tvar ratio = wh + bl;\n\tvar i;\n\tvar v;\n\tvar f;\n\tvar n;\n\n\t// wh + bl cant be > 1\n\tif (ratio > 1) {\n\t\twh /= ratio;\n\t\tbl /= ratio;\n\t}\n\n\ti = Math.floor(6 * h);\n\tv = 1 - bl;\n\tf = 6 * h - i;\n\n\tif ((i & 0x01) !== 0) {\n\t\tf = 1 - f;\n\t}\n\n\tn = wh + f * (v - wh); // linear interpolation\n\n\tvar r;\n\tvar g;\n\tvar b;\n\tswitch (i) {\n\t\tdefault:\n\t\tcase 6:\n\t\tcase 0: r = v; g = n; b = wh; break;\n\t\tcase 1: r = n; g = v; b = wh; break;\n\t\tcase 2: r = wh; g = v; b = n; break;\n\t\tcase 3: r = wh; g = n; b = v; break;\n\t\tcase 4: r = n; g = wh; b = v; break;\n\t\tcase 5: r = v; g = wh; b = n; break;\n\t}\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.cmyk.rgb = function (cmyk) {\n\tvar c = cmyk[0] / 100;\n\tvar m = cmyk[1] / 100;\n\tvar y = cmyk[2] / 100;\n\tvar k = cmyk[3] / 100;\n\tvar r;\n\tvar g;\n\tvar b;\n\n\tr = 1 - Math.min(1, c * (1 - k) + k);\n\tg = 1 - Math.min(1, m * (1 - k) + k);\n\tb = 1 - Math.min(1, y * (1 - k) + k);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.rgb = function (xyz) {\n\tvar x = xyz[0] / 100;\n\tvar y = xyz[1] / 100;\n\tvar z = xyz[2] / 100;\n\tvar r;\n\tvar g;\n\tvar b;\n\n\tr = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);\n\tg = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);\n\tb = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);\n\n\t// assume sRGB\n\tr = r > 0.0031308\n\t\t? ((1.055 * Math.pow(r, 1.0 / 2.4)) - 0.055)\n\t\t: r * 12.92;\n\n\tg = g > 0.0031308\n\t\t? ((1.055 * Math.pow(g, 1.0 / 2.4)) - 0.055)\n\t\t: g * 12.92;\n\n\tb = b > 0.0031308\n\t\t? ((1.055 * Math.pow(b, 1.0 / 2.4)) - 0.055)\n\t\t: b * 12.92;\n\n\tr = Math.min(Math.max(0, r), 1);\n\tg = Math.min(Math.max(0, g), 1);\n\tb = Math.min(Math.max(0, b), 1);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.lab = function (xyz) {\n\tvar x = xyz[0];\n\tvar y = xyz[1];\n\tvar z = xyz[2];\n\tvar l;\n\tvar a;\n\tvar b;\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? Math.pow(x, 1 / 3) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? Math.pow(y, 1 / 3) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? Math.pow(z, 1 / 3) : (7.787 * z) + (16 / 116);\n\n\tl = (116 * y) - 16;\n\ta = 500 * (x - y);\n\tb = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.lab.xyz = function (lab) {\n\tvar l = lab[0];\n\tvar a = lab[1];\n\tvar b = lab[2];\n\tvar x;\n\tvar y;\n\tvar z;\n\n\ty = (l + 16) / 116;\n\tx = a / 500 + y;\n\tz = y - b / 200;\n\n\tvar y2 = Math.pow(y, 3);\n\tvar x2 = Math.pow(x, 3);\n\tvar z2 = Math.pow(z, 3);\n\ty = y2 > 0.008856 ? y2 : (y - 16 / 116) / 7.787;\n\tx = x2 > 0.008856 ? x2 : (x - 16 / 116) / 7.787;\n\tz = z2 > 0.008856 ? z2 : (z - 16 / 116) / 7.787;\n\n\tx *= 95.047;\n\ty *= 100;\n\tz *= 108.883;\n\n\treturn [x, y, z];\n};\n\nconvert.lab.lch = function (lab) {\n\tvar l = lab[0];\n\tvar a = lab[1];\n\tvar b = lab[2];\n\tvar hr;\n\tvar h;\n\tvar c;\n\n\thr = Math.atan2(b, a);\n\th = hr * 360 / 2 / Math.PI;\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tc = Math.sqrt(a * a + b * b);\n\n\treturn [l, c, h];\n};\n\nconvert.lch.lab = function (lch) {\n\tvar l = lch[0];\n\tvar c = lch[1];\n\tvar h = lch[2];\n\tvar a;\n\tvar b;\n\tvar hr;\n\n\thr = h / 360 * 2 * Math.PI;\n\ta = c * Math.cos(hr);\n\tb = c * Math.sin(hr);\n\n\treturn [l, a, b];\n};\n\nconvert.rgb.ansi16 = function (args) {\n\tvar r = args[0];\n\tvar g = args[1];\n\tvar b = args[2];\n\tvar value = 1 in arguments ? arguments[1] : convert.rgb.hsv(args)[2]; // hsv -> ansi16 optimization\n\n\tvalue = Math.round(value / 50);\n\n\tif (value === 0) {\n\t\treturn 30;\n\t}\n\n\tvar ansi = 30\n\t\t+ ((Math.round(b / 255) << 2)\n\t\t| (Math.round(g / 255) << 1)\n\t\t| Math.round(r / 255));\n\n\tif (value === 2) {\n\t\tansi += 60;\n\t}\n\n\treturn ansi;\n};\n\nconvert.hsv.ansi16 = function (args) {\n\t// optimization here; we already know the value and don't need to get\n\t// it converted for us.\n\treturn convert.rgb.ansi16(convert.hsv.rgb(args), args[2]);\n};\n\nconvert.rgb.ansi256 = function (args) {\n\tvar r = args[0];\n\tvar g = args[1];\n\tvar b = args[2];\n\n\t// we use the extended greyscale palette here, with the exception of\n\t// black and white. normal palette only has 4 greyscale shades.\n\tif (r === g && g === b) {\n\t\tif (r < 8) {\n\t\t\treturn 16;\n\t\t}\n\n\t\tif (r > 248) {\n\t\t\treturn 231;\n\t\t}\n\n\t\treturn Math.round(((r - 8) / 247) * 24) + 232;\n\t}\n\n\tvar ansi = 16\n\t\t+ (36 * Math.round(r / 255 * 5))\n\t\t+ (6 * Math.round(g / 255 * 5))\n\t\t+ Math.round(b / 255 * 5);\n\n\treturn ansi;\n};\n\nconvert.ansi16.rgb = function (args) {\n\tvar color = args % 10;\n\n\t// handle greyscale\n\tif (color === 0 || color === 7) {\n\t\tif (args > 50) {\n\t\t\tcolor += 3.5;\n\t\t}\n\n\t\tcolor = color / 10.5 * 255;\n\n\t\treturn [color, color, color];\n\t}\n\n\tvar mult = (~~(args > 50) + 1) * 0.5;\n\tvar r = ((color & 1) * mult) * 255;\n\tvar g = (((color >> 1) & 1) * mult) * 255;\n\tvar b = (((color >> 2) & 1) * mult) * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.ansi256.rgb = function (args) {\n\t// handle greyscale\n\tif (args >= 232) {\n\t\tvar c = (args - 232) * 10 + 8;\n\t\treturn [c, c, c];\n\t}\n\n\targs -= 16;\n\n\tvar rem;\n\tvar r = Math.floor(args / 36) / 5 * 255;\n\tvar g = Math.floor((rem = args % 36) / 6) / 5 * 255;\n\tvar b = (rem % 6) / 5 * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hex = function (args) {\n\tvar integer = ((Math.round(args[0]) & 0xFF) << 16)\n\t\t+ ((Math.round(args[1]) & 0xFF) << 8)\n\t\t+ (Math.round(args[2]) & 0xFF);\n\n\tvar string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.hex.rgb = function (args) {\n\tvar match = args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);\n\tif (!match) {\n\t\treturn [0, 0, 0];\n\t}\n\n\tvar colorString = match[0];\n\n\tif (match[0].length === 3) {\n\t\tcolorString = colorString.split('').map(function (char) {\n\t\t\treturn char + char;\n\t\t}).join('');\n\t}\n\n\tvar integer = parseInt(colorString, 16);\n\tvar r = (integer >> 16) & 0xFF;\n\tvar g = (integer >> 8) & 0xFF;\n\tvar b = integer & 0xFF;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hcg = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar max = Math.max(Math.max(r, g), b);\n\tvar min = Math.min(Math.min(r, g), b);\n\tvar chroma = (max - min);\n\tvar grayscale;\n\tvar hue;\n\n\tif (chroma < 1) {\n\t\tgrayscale = min / (1 - chroma);\n\t} else {\n\t\tgrayscale = 0;\n\t}\n\n\tif (chroma <= 0) {\n\t\thue = 0;\n\t} else\n\tif (max === r) {\n\t\thue = ((g - b) / chroma) % 6;\n\t} else\n\tif (max === g) {\n\t\thue = 2 + (b - r) / chroma;\n\t} else {\n\t\thue = 4 + (r - g) / chroma + 4;\n\t}\n\n\thue /= 6;\n\thue %= 1;\n\n\treturn [hue * 360, chroma * 100, grayscale * 100];\n};\n\nconvert.hsl.hcg = function (hsl) {\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar c = 1;\n\tvar f = 0;\n\n\tif (l < 0.5) {\n\t\tc = 2.0 * s * l;\n\t} else {\n\t\tc = 2.0 * s * (1.0 - l);\n\t}\n\n\tif (c < 1.0) {\n\t\tf = (l - 0.5 * c) / (1.0 - c);\n\t}\n\n\treturn [hsl[0], c * 100, f * 100];\n};\n\nconvert.hsv.hcg = function (hsv) {\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\n\tvar c = s * v;\n\tvar f = 0;\n\n\tif (c < 1.0) {\n\t\tf = (v - c) / (1 - c);\n\t}\n\n\treturn [hsv[0], c * 100, f * 100];\n};\n\nconvert.hcg.rgb = function (hcg) {\n\tvar h = hcg[0] / 360;\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tif (c === 0.0) {\n\t\treturn [g * 255, g * 255, g * 255];\n\t}\n\n\tvar pure = [0, 0, 0];\n\tvar hi = (h % 1) * 6;\n\tvar v = hi % 1;\n\tvar w = 1 - v;\n\tvar mg = 0;\n\n\tswitch (Math.floor(hi)) {\n\t\tcase 0:\n\t\t\tpure[0] = 1; pure[1] = v; pure[2] = 0; break;\n\t\tcase 1:\n\t\t\tpure[0] = w; pure[1] = 1; pure[2] = 0; break;\n\t\tcase 2:\n\t\t\tpure[0] = 0; pure[1] = 1; pure[2] = v; break;\n\t\tcase 3:\n\t\t\tpure[0] = 0; pure[1] = w; pure[2] = 1; break;\n\t\tcase 4:\n\t\t\tpure[0] = v; pure[1] = 0; pure[2] = 1; break;\n\t\tdefault:\n\t\t\tpure[0] = 1; pure[1] = 0; pure[2] = w;\n\t}\n\n\tmg = (1.0 - c) * g;\n\n\treturn [\n\t\t(c * pure[0] + mg) * 255,\n\t\t(c * pure[1] + mg) * 255,\n\t\t(c * pure[2] + mg) * 255\n\t];\n};\n\nconvert.hcg.hsv = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tvar v = c + g * (1.0 - c);\n\tvar f = 0;\n\n\tif (v > 0.0) {\n\t\tf = c / v;\n\t}\n\n\treturn [hcg[0], f * 100, v * 100];\n};\n\nconvert.hcg.hsl = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tvar l = g * (1.0 - c) + 0.5 * c;\n\tvar s = 0;\n\n\tif (l > 0.0 && l < 0.5) {\n\t\ts = c / (2 * l);\n\t} else\n\tif (l >= 0.5 && l < 1.0) {\n\t\ts = c / (2 * (1 - l));\n\t}\n\n\treturn [hcg[0], s * 100, l * 100];\n};\n\nconvert.hcg.hwb = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\tvar v = c + g * (1.0 - c);\n\treturn [hcg[0], (v - c) * 100, (1 - v) * 100];\n};\n\nconvert.hwb.hcg = function (hwb) {\n\tvar w = hwb[1] / 100;\n\tvar b = hwb[2] / 100;\n\tvar v = 1 - b;\n\tvar c = v - w;\n\tvar g = 0;\n\n\tif (c < 1) {\n\t\tg = (v - c) / (1 - c);\n\t}\n\n\treturn [hwb[0], c * 100, g * 100];\n};\n\nconvert.apple.rgb = function (apple) {\n\treturn [(apple[0] / 65535) * 255, (apple[1] / 65535) * 255, (apple[2] / 65535) * 255];\n};\n\nconvert.rgb.apple = function (rgb) {\n\treturn [(rgb[0] / 255) * 65535, (rgb[1] / 255) * 65535, (rgb[2] / 255) * 65535];\n};\n\nconvert.gray.rgb = function (args) {\n\treturn [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];\n};\n\nconvert.gray.hsl = convert.gray.hsv = function (args) {\n\treturn [0, 0, args[0]];\n};\n\nconvert.gray.hwb = function (gray) {\n\treturn [0, 100, gray[0]];\n};\n\nconvert.gray.cmyk = function (gray) {\n\treturn [0, 0, 0, gray[0]];\n};\n\nconvert.gray.lab = function (gray) {\n\treturn [gray[0], 0, 0];\n};\n\nconvert.gray.hex = function (gray) {\n\tvar val = Math.round(gray[0] / 100 * 255) & 0xFF;\n\tvar integer = (val << 16) + (val << 8) + val;\n\n\tvar string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.rgb.gray = function (rgb) {\n\tvar val = (rgb[0] + rgb[1] + rgb[2]) / 3;\n\treturn [val / 255 * 100];\n};\n","var api = require(\"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../node_modules/css-loader/dist/cjs.js!../node_modules/sass-loader/dist/cjs.js!./style.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"body{background-color:#000;display:flex;flex-direction:column;align-items:center;width:100vw;height:100vh;margin:0 0}canvas{background:#000;margin-top:30px}.build{color:#444;font-size:12px;font-family:Menlo;text-align:left;width:100%}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","/* MIT license */\nvar colorNames = require('color-name');\nvar swizzle = require('simple-swizzle');\n\nvar reverseNames = {};\n\n// create a list of reverse color names\nfor (var name in colorNames) {\n\tif (colorNames.hasOwnProperty(name)) {\n\t\treverseNames[colorNames[name]] = name;\n\t}\n}\n\nvar cs = module.exports = {\n\tto: {},\n\tget: {}\n};\n\ncs.get = function (string) {\n\tvar prefix = string.substring(0, 3).toLowerCase();\n\tvar val;\n\tvar model;\n\tswitch (prefix) {\n\t\tcase 'hsl':\n\t\t\tval = cs.get.hsl(string);\n\t\t\tmodel = 'hsl';\n\t\t\tbreak;\n\t\tcase 'hwb':\n\t\t\tval = cs.get.hwb(string);\n\t\t\tmodel = 'hwb';\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tval = cs.get.rgb(string);\n\t\t\tmodel = 'rgb';\n\t\t\tbreak;\n\t}\n\n\tif (!val) {\n\t\treturn null;\n\t}\n\n\treturn {model: model, value: val};\n};\n\ncs.get.rgb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar abbr = /^#([a-f0-9]{3,4})$/i;\n\tvar hex = /^#([a-f0-9]{6})([a-f0-9]{2})?$/i;\n\tvar rgba = /^rgba?\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\tvar per = /^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\tvar keyword = /(\\D+)/;\n\n\tvar rgb = [0, 0, 0, 1];\n\tvar match;\n\tvar i;\n\tvar hexAlpha;\n\n\tif (match = string.match(hex)) {\n\t\thexAlpha = match[2];\n\t\tmatch = match[1];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\t// https://jsperf.com/slice-vs-substr-vs-substring-methods-long-string/19\n\t\t\tvar i2 = i * 2;\n\t\t\trgb[i] = parseInt(match.slice(i2, i2 + 2), 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = Math.round((parseInt(hexAlpha, 16) / 255) * 100) / 100;\n\t\t}\n\t} else if (match = string.match(abbr)) {\n\t\tmatch = match[1];\n\t\thexAlpha = match[3];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = parseInt(match[i] + match[i], 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = Math.round((parseInt(hexAlpha + hexAlpha, 16) / 255) * 100) / 100;\n\t\t}\n\t} else if (match = string.match(rgba)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = parseInt(match[i + 1], 0);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\trgb[3] = parseFloat(match[4]);\n\t\t}\n\t} else if (match = string.match(per)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = Math.round(parseFloat(match[i + 1]) * 2.55);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\trgb[3] = parseFloat(match[4]);\n\t\t}\n\t} else if (match = string.match(keyword)) {\n\t\tif (match[1] === 'transparent') {\n\t\t\treturn [0, 0, 0, 0];\n\t\t}\n\n\t\trgb = colorNames[match[1]];\n\n\t\tif (!rgb) {\n\t\t\treturn null;\n\t\t}\n\n\t\trgb[3] = 1;\n\n\t\treturn rgb;\n\t} else {\n\t\treturn null;\n\t}\n\n\tfor (i = 0; i < 3; i++) {\n\t\trgb[i] = clamp(rgb[i], 0, 255);\n\t}\n\trgb[3] = clamp(rgb[3], 0, 1);\n\n\treturn rgb;\n};\n\ncs.get.hsl = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar hsl = /^hsla?\\(\\s*([+-]?(?:\\d*\\.)?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\tvar match = string.match(hsl);\n\n\tif (match) {\n\t\tvar alpha = parseFloat(match[4]);\n\t\tvar h = (parseFloat(match[1]) + 360) % 360;\n\t\tvar s = clamp(parseFloat(match[2]), 0, 100);\n\t\tvar l = clamp(parseFloat(match[3]), 0, 100);\n\t\tvar a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);\n\n\t\treturn [h, s, l, a];\n\t}\n\n\treturn null;\n};\n\ncs.get.hwb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar hwb = /^hwb\\(\\s*([+-]?\\d*[\\.]?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\tvar match = string.match(hwb);\n\n\tif (match) {\n\t\tvar alpha = parseFloat(match[4]);\n\t\tvar h = ((parseFloat(match[1]) % 360) + 360) % 360;\n\t\tvar w = clamp(parseFloat(match[2]), 0, 100);\n\t\tvar b = clamp(parseFloat(match[3]), 0, 100);\n\t\tvar a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);\n\t\treturn [h, w, b, a];\n\t}\n\n\treturn null;\n};\n\ncs.to.hex = function () {\n\tvar rgba = swizzle(arguments);\n\n\treturn (\n\t\t'#' +\n\t\thexDouble(rgba[0]) +\n\t\thexDouble(rgba[1]) +\n\t\thexDouble(rgba[2]) +\n\t\t(rgba[3] < 1\n\t\t\t? (hexDouble(Math.round(rgba[3] * 255)))\n\t\t\t: '')\n\t);\n};\n\ncs.to.rgb = function () {\n\tvar rgba = swizzle(arguments);\n\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ')'\n\t\t: 'rgba(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ', ' + rgba[3] + ')';\n};\n\ncs.to.rgb.percent = function () {\n\tvar rgba = swizzle(arguments);\n\n\tvar r = Math.round(rgba[0] / 255 * 100);\n\tvar g = Math.round(rgba[1] / 255 * 100);\n\tvar b = Math.round(rgba[2] / 255 * 100);\n\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + r + '%, ' + g + '%, ' + b + '%)'\n\t\t: 'rgba(' + r + '%, ' + g + '%, ' + b + '%, ' + rgba[3] + ')';\n};\n\ncs.to.hsl = function () {\n\tvar hsla = swizzle(arguments);\n\treturn hsla.length < 4 || hsla[3] === 1\n\t\t? 'hsl(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%)'\n\t\t: 'hsla(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%, ' + hsla[3] + ')';\n};\n\n// hwb is a bit different than rgb(a) & hsl(a) since there is no alpha specific syntax\n// (hwb have alpha optional & 1 is default value)\ncs.to.hwb = function () {\n\tvar hwba = swizzle(arguments);\n\n\tvar a = '';\n\tif (hwba.length >= 4 && hwba[3] !== 1) {\n\t\ta = ', ' + hwba[3];\n\t}\n\n\treturn 'hwb(' + hwba[0] + ', ' + hwba[1] + '%, ' + hwba[2] + '%' + a + ')';\n};\n\ncs.to.keyword = function (rgb) {\n\treturn reverseNames[rgb.slice(0, 3)];\n};\n\n// helpers\nfunction clamp(num, min, max) {\n\treturn Math.min(Math.max(min, num), max);\n}\n\nfunction hexDouble(num) {\n\tvar str = num.toString(16).toUpperCase();\n\treturn (str.length < 2) ? '0' + str : str;\n}\n","'use strict';\n\nvar isArrayish = require('is-arrayish');\n\nvar concat = Array.prototype.concat;\nvar slice = Array.prototype.slice;\n\nvar swizzle = module.exports = function swizzle(args) {\n\tvar results = [];\n\n\tfor (var i = 0, len = args.length; i < len; i++) {\n\t\tvar arg = args[i];\n\n\t\tif (isArrayish(arg)) {\n\t\t\t// http://jsperf.com/javascript-array-concat-vs-push/98\n\t\t\tresults = concat.call(results, slice.call(arg));\n\t\t} else {\n\t\t\tresults.push(arg);\n\t\t}\n\t}\n\n\treturn results;\n};\n\nswizzle.wrap = function (fn) {\n\treturn function () {\n\t\treturn fn(swizzle(arguments));\n\t};\n};\n","module.exports = function isArrayish(obj) {\n\tif (!obj || typeof obj === 'string') {\n\t\treturn false;\n\t}\n\n\treturn obj instanceof Array || Array.isArray(obj) ||\n\t\t(obj.length >= 0 && (obj.splice instanceof Function ||\n\t\t\t(Object.getOwnPropertyDescriptor(obj, (obj.length - 1)) && obj.constructor.name !== 'String')));\n};\n","var conversions = require('./conversions');\nvar route = require('./route');\n\nvar convert = {};\n\nvar models = Object.keys(conversions);\n\nfunction wrapRaw(fn) {\n\tvar wrappedFn = function (args) {\n\t\tif (args === undefined || args === null) {\n\t\t\treturn args;\n\t\t}\n\n\t\tif (arguments.length > 1) {\n\t\t\targs = Array.prototype.slice.call(arguments);\n\t\t}\n\n\t\treturn fn(args);\n\t};\n\n\t// preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nfunction wrapRounded(fn) {\n\tvar wrappedFn = function (args) {\n\t\tif (args === undefined || args === null) {\n\t\t\treturn args;\n\t\t}\n\n\t\tif (arguments.length > 1) {\n\t\t\targs = Array.prototype.slice.call(arguments);\n\t\t}\n\n\t\tvar result = fn(args);\n\n\t\t// we're assuming the result is an array here.\n\t\t// see notice in conversions.js; don't use box types\n\t\t// in conversion functions.\n\t\tif (typeof result === 'object') {\n\t\t\tfor (var len = result.length, i = 0; i < len; i++) {\n\t\t\t\tresult[i] = Math.round(result[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t// preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nmodels.forEach(function (fromModel) {\n\tconvert[fromModel] = {};\n\n\tObject.defineProperty(convert[fromModel], 'channels', {value: conversions[fromModel].channels});\n\tObject.defineProperty(convert[fromModel], 'labels', {value: conversions[fromModel].labels});\n\n\tvar routes = route(fromModel);\n\tvar routeModels = Object.keys(routes);\n\n\trouteModels.forEach(function (toModel) {\n\t\tvar fn = routes[toModel];\n\n\t\tconvert[fromModel][toModel] = wrapRounded(fn);\n\t\tconvert[fromModel][toModel].raw = wrapRaw(fn);\n\t});\n});\n\nmodule.exports = convert;\n","var conversions = require('./conversions');\n\n/*\n\tthis function routes a model to all other models.\n\n\tall functions that are routed have a property `.conversion` attached\n\tto the returned synthetic function. This property is an array\n\tof strings, each with the steps in between the 'from' and 'to'\n\tcolor models (inclusive).\n\n\tconversions that are not possible simply are not included.\n*/\n\nfunction buildGraph() {\n\tvar graph = {};\n\t// https://jsperf.com/object-keys-vs-for-in-with-closure/3\n\tvar models = Object.keys(conversions);\n\n\tfor (var len = models.length, i = 0; i < len; i++) {\n\t\tgraph[models[i]] = {\n\t\t\t// http://jsperf.com/1-vs-infinity\n\t\t\t// micro-opt, but this is simple.\n\t\t\tdistance: -1,\n\t\t\tparent: null\n\t\t};\n\t}\n\n\treturn graph;\n}\n\n// https://en.wikipedia.org/wiki/Breadth-first_search\nfunction deriveBFS(fromModel) {\n\tvar graph = buildGraph();\n\tvar queue = [fromModel]; // unshift -> queue -> pop\n\n\tgraph[fromModel].distance = 0;\n\n\twhile (queue.length) {\n\t\tvar current = queue.pop();\n\t\tvar adjacents = Object.keys(conversions[current]);\n\n\t\tfor (var len = adjacents.length, i = 0; i < len; i++) {\n\t\t\tvar adjacent = adjacents[i];\n\t\t\tvar node = graph[adjacent];\n\n\t\t\tif (node.distance === -1) {\n\t\t\t\tnode.distance = graph[current].distance + 1;\n\t\t\t\tnode.parent = current;\n\t\t\t\tqueue.unshift(adjacent);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn graph;\n}\n\nfunction link(from, to) {\n\treturn function (args) {\n\t\treturn to(from(args));\n\t};\n}\n\nfunction wrapConversion(toModel, graph) {\n\tvar path = [graph[toModel].parent, toModel];\n\tvar fn = conversions[graph[toModel].parent][toModel];\n\n\tvar cur = graph[toModel].parent;\n\twhile (graph[cur].parent) {\n\t\tpath.unshift(graph[cur].parent);\n\t\tfn = link(conversions[graph[cur].parent][cur], fn);\n\t\tcur = graph[cur].parent;\n\t}\n\n\tfn.conversion = path;\n\treturn fn;\n}\n\nmodule.exports = function (fromModel) {\n\tvar graph = deriveBFS(fromModel);\n\tvar conversion = {};\n\n\tvar models = Object.keys(graph);\n\tfor (var len = models.length, i = 0; i < len; i++) {\n\t\tvar toModel = models[i];\n\t\tvar node = graph[toModel];\n\n\t\tif (node.parent === null) {\n\t\t\t// no possible conversion, or this node is the source model.\n\t\t\tcontinue;\n\t\t}\n\n\t\tconversion[toModel] = wrapConversion(toModel, graph);\n\t}\n\n\treturn conversion;\n};\n\n","const pixelRatio = window.devicePixelRatio || 1;\nlet canvas;\nlet ctx;\n\n// it's a PITA to mock canvas in jest so we just hack it when it's running\nif (process.env.NODE_ENV === \"test\") {\n  canvas = {\n    style: {},\n  };\n  ctx = {};\n} else {\n  canvas = document.querySelector(\"#canvas\");\n  ctx = canvas.getContext(\"2d\");\n}\n\nexport const layers = {\n  ground: 100,\n  tracks: 200,\n  items: 300,\n  player: 400,\n  abovePlayer: 500,\n  sky: 600,\n};\n\nexport const grid = {\n  width: 100,\n  height: 34,\n\n  map: {\n    width: 79,\n    height: 29,\n    x: 21,\n    y: 3,\n  },\n\n  log: {\n    width: 79,\n    height: 3,\n    x: 21,\n    y: 0,\n  },\n\n  hud: {\n    width: 20,\n    height: 34,\n    x: 0,\n    y: 0,\n  },\n\n  hud2: {\n    width: 79,\n    height: 2,\n    x: 21,\n    y: 32,\n  },\n\n  menu: {\n    width: 40,\n    height: 30,\n    x: 20,\n    y: 3,\n  },\n\n  menu2: {\n    width: 40,\n    height: 30,\n    x: 60,\n    y: 3,\n  },\n\n  menu3: {\n    width: 79,\n    height: 34,\n    x: 20,\n    y: 0,\n  },\n};\n\nconst font = \"Menlo\";\nconst lineHeight = 1.2;\n\nlet calculatedFontSize = window.innerWidth / grid.width;\nlet cellWidth = calculatedFontSize * pixelRatio;\nlet cellHeight = calculatedFontSize * lineHeight * pixelRatio;\nlet fontSize = calculatedFontSize * pixelRatio;\n\ncanvas.style.cssText = `width: ${calculatedFontSize * grid.width}; height: ${\n  calculatedFontSize * lineHeight * grid.height\n}`;\ncanvas.width = cellWidth * grid.width;\ncanvas.height = cellHeight * grid.height;\n\nctx.font = `normal ${fontSize}px ${font}`;\nctx.textAlign = \"center\";\nctx.textBaseline = \"middle\";\n\nconst drawBackground = (color, position) => {\n  if (color === \"transparent\") return;\n\n  ctx.fillStyle = color.hsl().string(\"hsla\");\n  ctx.fillRect(\n    position.x * cellWidth,\n    position.y * cellHeight,\n    cellWidth,\n    cellHeight\n  );\n};\n\nconst drawChar = (char, color, position) => {\n  ctx.fillStyle = color.hsl().string(\"hsla\");\n  ctx.fillText(\n    char,\n    position.x * cellWidth + cellWidth / 2,\n    position.y * cellHeight + cellHeight / 2\n  );\n};\n\nexport const drawCell = (entity, options = {}) => {\n  console.log(\"drawCell\");\n  const { fg, bg, x, y } = options;\n  const {\n    // todo: refactor this - color should come from light instead of having to be passed in...\n    appearance: { char, background, color },\n    position,\n  } = entity;\n\n  const bgColor = bg ? bg : background;\n  const charColor = fg ? fg : color;\n  const pos = x && y ? { x, y } : position;\n\n  drawBackground(bgColor, pos);\n  drawChar(char, charColor, pos);\n};\n\nexport const clearCanvas = () =>\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n\nexport const pxToCell = (ev) => {\n  const bounds = canvas.getBoundingClientRect();\n  const relativeX = ev.clientX - bounds.left;\n  const relativeY = ev.clientY - bounds.top;\n  const colPos = Math.trunc((relativeX / cellWidth) * pixelRatio);\n  const rowPos = Math.trunc((relativeY / cellHeight) * pixelRatio);\n\n  return [colPos, rowPos];\n};\n\nexport const onClick = (handler) => {\n  canvas.addEventListener(\"click\", (ev) => {\n    const cell = pxToCell(ev);\n    handler(cell[0], cell[1]);\n  });\n};\n\nexport const onMouseMove = (handler) => {\n  canvas.addEventListener(\"mousemove\", (ev) => {\n    const cell = pxToCell(ev);\n    handler(cell[0], cell[1]);\n  });\n};\n","const state = {\n  userInput: null,\n  playerTurn: true,\n  turn: 0,\n};\n\nexport default state;\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classPrivateFieldGet(receiver, privateMap) {\n  var descriptor = privateMap.get(receiver);\n\n  if (!descriptor) {\n    throw new TypeError(\"attempted to get private field on non-instance\");\n  }\n\n  if (descriptor.get) {\n    return descriptor.get.call(receiver);\n  }\n\n  return descriptor.value;\n}\n\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n  var descriptor = privateMap.get(receiver);\n\n  if (!descriptor) {\n    throw new TypeError(\"attempted to set private field on non-instance\");\n  }\n\n  if (descriptor.set) {\n    descriptor.set.call(receiver, value);\n  } else {\n    if (!descriptor.writable) {\n      throw new TypeError(\"attempted to set read only private field\");\n    }\n\n    descriptor.value = value;\n  }\n\n  return value;\n}\n\nconst preserveCamelCase = string => {\n  let isLastCharLower = false;\n  let isLastCharUpper = false;\n  let isLastLastCharUpper = false;\n\n  for (let i = 0; i < string.length; i++) {\n    const character = string[i];\n\n    if (isLastCharLower && /[\\p{Lu}]/u.test(character)) {\n      string = string.slice(0, i) + '-' + string.slice(i);\n      isLastCharLower = false;\n      isLastLastCharUpper = isLastCharUpper;\n      isLastCharUpper = true;\n      i++;\n    } else if (isLastCharUpper && isLastLastCharUpper && /[\\p{Ll}]/u.test(character)) {\n      string = string.slice(0, i - 1) + '-' + string.slice(i - 1);\n      isLastLastCharUpper = isLastCharUpper;\n      isLastCharUpper = false;\n      isLastCharLower = true;\n    } else {\n      isLastCharLower = character.toLocaleLowerCase() === character && character.toLocaleUpperCase() !== character;\n      isLastLastCharUpper = isLastCharUpper;\n      isLastCharUpper = character.toLocaleUpperCase() === character && character.toLocaleLowerCase() !== character;\n    }\n  }\n\n  return string;\n};\n\nconst camelCase = (input, options) => {\n  if (!(typeof input === 'string' || Array.isArray(input))) {\n    throw new TypeError('Expected the input to be `string | string[]`');\n  }\n\n  options = { ...{\n      pascalCase: false\n    },\n    ...options\n  };\n\n  const postProcess = x => options.pascalCase ? x.charAt(0).toLocaleUpperCase() + x.slice(1) : x;\n\n  if (Array.isArray(input)) {\n    input = input.map(x => x.trim()).filter(x => x.length).join('-');\n  } else {\n    input = input.trim();\n  }\n\n  if (input.length === 0) {\n    return '';\n  }\n\n  if (input.length === 1) {\n    return options.pascalCase ? input.toLocaleUpperCase() : input.toLocaleLowerCase();\n  }\n\n  const hasUpperCase = input !== input.toLocaleLowerCase();\n\n  if (hasUpperCase) {\n    input = preserveCamelCase(input);\n  }\n\n  input = input.replace(/^[_.\\- ]+/, '').toLocaleLowerCase().replace(/[_.\\- ]+([\\p{Alpha}\\p{N}_]|$)/gu, (_, p1) => p1.toLocaleUpperCase()).replace(/\\d+([\\p{Alpha}\\p{N}_]|$)/gu, m => m.toLocaleUpperCase());\n  return postProcess(input);\n};\n\nvar camelcase = camelCase; // TODO: Remove this for the next major release\n\nvar _default = camelCase;\ncamelcase.default = _default;\n\nclass Property {\n  constructor(component) {\n    _defineProperty(this, \"component\", void 0);\n\n    this.component = component;\n  }\n\n  get ecs() {\n    return this.component.ecs;\n  }\n\n  get descriptor() {\n    return {\n      enumerable: true,\n      get: () => this.get(),\n      set: v => this.set(v)\n    };\n  }\n\n  get() {\n    return undefined;\n  }\n\n  set(value) {}\n\n  serialize() {\n    return undefined;\n  }\n\n  onDestroyed() {}\n\n  cleanupReference(entity) {}\n\n}\n\nclass SimpleProperty extends Property {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"value\", null);\n  }\n\n  set(value) {\n    this.value = value;\n  }\n\n  get() {\n    return this.value;\n  }\n\n  serialize() {\n    return this.value;\n  }\n\n}\n\nclass EntityProperty extends Property {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"id\", void 0);\n  }\n\n  set(value) {\n    if (this.id && (!value || value.id !== this.id || value !== this.id)) {\n      this.ecs.entities.removeRef(this.id, this);\n    }\n\n    if (value && value.id) {\n      this.ecs.entities.addRef(value.id, this);\n      this.id = value.id;\n      return;\n    }\n\n    if (typeof value === 'string') {\n      this.ecs.entities.addRef(value, this);\n      this.id = value;\n      return;\n    }\n\n    this.id = undefined;\n  }\n\n  get() {\n    return this.id && this.component.ecs.getEntity(this.id);\n  }\n\n  serialize() {\n    return this.id;\n  }\n\n  onDestroyed() {\n    if (this.id) {\n      this.ecs.entities.removeRef(this.id, this);\n    }\n  }\n\n  cleanupReference(entity) {\n    if (this.id === entity.id) {\n      this.id = undefined;\n    } else {\n      console.warn(`Property in unclean state. A reference to an entity \"${entity.id}\" was never cleaned up.`);\n    }\n  }\n\n}\n\nclass EntityArrayProperty extends Property {\n  constructor(component) {\n    super(component);\n\n    _defineProperty(this, \"proxy\", []);\n\n    this.proxy = new Proxy([], {\n      get: (target, prop, receiver) => {\n        return Reflect.get(target, prop, receiver);\n      },\n      set: (target, prop, value, receiver) => {\n        if (isNaN(prop)) {\n          return Reflect.set(target, prop, value, receiver);\n        }\n\n        const old = Reflect.get(target, prop, receiver);\n\n        if (typeof value === 'string') {\n          value = this.ecs.entities.get(value);\n        }\n\n        if (old && old != value) {\n          this.ecs.entities.removeRef(value, this);\n        }\n\n        if (value && value.id) {\n          this.ecs.entities.addRef(value.id, this);\n          return Reflect.set(target, prop, value, receiver);\n        }\n\n        return Reflect.set(target, prop, value, receiver);\n      },\n      deleteProperty: (target, prop) => {\n        if (isNaN(prop)) {\n          return Reflect.deleteProperty(target, prop);\n        }\n\n        const value = Reflect.get(target, prop);\n        this.ecs.entities.removeRef(value, this);\n        return Reflect.deleteProperty(target, prop);\n      }\n    });\n  }\n\n  set(values = []) {\n    const len = Math.max(values.length, this.proxy.length);\n\n    for (let i = 0; i < len; i++) {\n      if (i in values) {\n        this.proxy[i] = values[i];\n      } else {\n        delete this.proxy[i];\n      }\n    }\n\n    this.proxy.length = values.length;\n  }\n\n  get() {\n    return this.proxy;\n  }\n\n  serialize() {\n    return this.proxy.map(ref => ref.id);\n  }\n\n  onDestroyed() {\n    this.set([]);\n  }\n\n  cleanupReference(entity) {\n    this.set(this.proxy.filter(ref => ref.id !== entity.id));\n  }\n\n}\n\nclass PropertyStrategy {\n  static create(component, value) {\n    switch (value) {\n      case '<Entity>':\n        return new EntityProperty(component);\n\n      case '<EntityArray>':\n        return new EntityArrayProperty(component);\n\n      default:\n        return new SimpleProperty(component);\n    }\n  }\n\n}\n\nclass Component {\n  static get type() {\n    return this.name;\n  }\n\n  get entity() {\n    return _classPrivateFieldGet(this, _entity);\n  }\n\n  get ecs() {\n    return _classPrivateFieldGet(this, _ecs);\n  }\n\n  get type() {\n    return this.constructor.name;\n  }\n\n  get isAttached() {\n    return Boolean(this.entity);\n  }\n\n  get isDestroyed() {\n    return _classPrivateFieldGet(this, _isDestroyed);\n  }\n\n  get allowMultiple() {\n    return this.constructor.allowMultiple;\n  }\n\n  get keyProperty() {\n    return this.constructor.keyProperty;\n  }\n\n  get properties() {\n    const ob = {};\n\n    for (const [key, value] of Object.entries(_classPrivateFieldGet(this, _props))) {\n      ob[key] = value.get();\n    }\n\n    return ob;\n  }\n\n  get key() {\n    return this[this.keyProperty];\n  }\n\n  constructor(ecs, properties = {}) {\n    _entity.set(this, {\n      writable: true,\n      value: null\n    });\n\n    _ecs.set(this, {\n      writable: true,\n      value: null\n    });\n\n    _props.set(this, {\n      writable: true,\n      value: {}\n    });\n\n    _isDestroyed.set(this, {\n      writable: true,\n      value: false\n    });\n\n    _classPrivateFieldSet(this, _ecs, ecs);\n\n    this._defineProxies(properties);\n  }\n\n  serialize() {\n    return Object.entries(_classPrivateFieldGet(this, _props)).reduce((o, [key, value]) => ({ ...o,\n      [key]: value.serialize()\n    }), {});\n  }\n\n  _onAttached(entity) {\n    _classPrivateFieldSet(this, _entity, entity);\n\n    this.ecs.queries.onComponentAdded(entity, this);\n    this.onAttached();\n  }\n\n  _onDetached() {\n    if (this.isAttached) {\n      this.onDetached();\n\n      const entity = _classPrivateFieldGet(this, _entity);\n\n      _classPrivateFieldSet(this, _entity, null);\n\n      this.ecs.queries.onComponentRemoved(entity, this);\n    }\n  }\n\n  _onDestroyed() {\n    _classPrivateFieldSet(this, _isDestroyed, true);\n\n    this.onDestroyed();\n\n    for (const prop of Object.values(_classPrivateFieldGet(this, _props))) {\n      prop.onDestroyed();\n    }\n  }\n\n  onAttached() {}\n\n  onDetached() {}\n\n  onDestroyed() {}\n\n  remove(destroy = true) {\n    if (this.isAttached) {\n      this.entity.remove(this);\n    }\n\n    if (destroy) {\n      this._onDestroyed();\n    }\n  }\n\n  destroy() {\n    this.remove(true);\n  }\n\n  _onEvent(evt) {\n    this.onEvent(evt);\n    const handlerName = camelcase(`on ${evt.name}`);\n\n    if (typeof this[handlerName] === 'function') {\n      this[handlerName](evt);\n    }\n  }\n\n  onEvent(evt) {}\n\n  _defaultPropertyValue(propertyName) {\n    const value = this.constructor.properties[propertyName];\n\n    if (value === '<EntityArray>') {\n      return [];\n    }\n\n    if (value === '<Entity>') {\n      return undefined;\n    }\n\n    return value;\n  }\n\n  _defineProxies(initialProperties) {\n    for (const key in this.constructor.properties) {\n      const initialValue = initialProperties.hasOwnProperty(key) ? initialProperties[key] : this._defaultPropertyValue(key);\n      const property = PropertyStrategy.create(this, this.constructor.properties[key]);\n      _classPrivateFieldGet(this, _props)[key] = property;\n      Object.defineProperty(this, key, property.descriptor);\n      property.set(initialValue);\n    }\n  }\n\n}\n\nvar _entity = new WeakMap();\n\nvar _ecs = new WeakMap();\n\nvar _props = new WeakMap();\n\nvar _isDestroyed = new WeakMap();\n\n_defineProperty(Component, \"allowMultiple\", false);\n\n_defineProperty(Component, \"keyProperty\", null);\n\n_defineProperty(Component, \"properties\", {});\n\nclass ComponentRegistry {\n  constructor(ecs) {\n    _nameCache.set(this, {\n      writable: true,\n      value: new Map()\n    });\n\n    _definitions.set(this, {\n      writable: true,\n      value: new Map()\n    });\n\n    _ecs$1.set(this, {\n      writable: true,\n      value: null\n    });\n\n    _classPrivateFieldSet(this, _ecs$1, ecs);\n  }\n\n  register(component) {\n    _classPrivateFieldGet(this, _definitions).set(component.name, component);\n\n    _classPrivateFieldGet(this, _nameCache).set(component.name, camelcase(component.name));\n  }\n\n  getAccessor(type) {\n    if (_classPrivateFieldGet(this, _nameCache).has(type)) {\n      return _classPrivateFieldGet(this, _nameCache).get(type);\n    }\n\n    _classPrivateFieldGet(this, _nameCache).set(type, camelcase(type));\n  }\n\n  get(typeOrClassOrComponent) {\n    const type = this._getType(typeOrClassOrComponent);\n\n    if (!type) {\n      console.warn(`Cannot get component definition for type or class ${typeOrClassOrComponent} since it is neither a Component class or type (string)`);\n      return null;\n    }\n\n    return _classPrivateFieldGet(this, _definitions).get(type);\n  }\n\n  create(typeOrClass, properties = {}) {\n    const definition = this.get(typeOrClass);\n\n    if (definition) {\n      return new definition(_classPrivateFieldGet(this, _ecs$1), properties);\n    }\n\n    console.warn(`Could not create component definition for ${typeOrClass} since it is not registered`);\n  }\n\n  _getType(typeOrClassOrComponent) {\n    if (typeof typeOrClassOrComponent === 'string') {\n      return typeOrClassOrComponent;\n    }\n\n    if (typeOrClassOrComponent instanceof Component) {\n      return typeOrClassOrComponent.type;\n    }\n\n    if (typeOrClassOrComponent.prototype instanceof Component) {\n      return typeOrClassOrComponent.name;\n    }\n\n    return null;\n  }\n\n}\n\nvar _nameCache = new WeakMap();\n\nvar _definitions = new WeakMap();\n\nvar _ecs$1 = new WeakMap();\n\nvar isMergeableObject = function isMergeableObject(value) {\n  return isNonNullObject(value) && !isSpecial(value);\n};\n\nfunction isNonNullObject(value) {\n  return !!value && typeof value === 'object';\n}\n\nfunction isSpecial(value) {\n  var stringValue = Object.prototype.toString.call(value);\n  return stringValue === '[object RegExp]' || stringValue === '[object Date]' || isReactElement(value);\n} // see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\n\n\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n  return value.$$typeof === REACT_ELEMENT_TYPE;\n}\n\nfunction emptyTarget(val) {\n  return Array.isArray(val) ? [] : {};\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n  return options.clone !== false && options.isMergeableObject(value) ? deepmerge(emptyTarget(value), value, options) : value;\n}\n\nfunction defaultArrayMerge(target, source, options) {\n  return target.concat(source).map(function (element) {\n    return cloneUnlessOtherwiseSpecified(element, options);\n  });\n}\n\nfunction getMergeFunction(key, options) {\n  if (!options.customMerge) {\n    return deepmerge;\n  }\n\n  var customMerge = options.customMerge(key);\n  return typeof customMerge === 'function' ? customMerge : deepmerge;\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n  return Object.getOwnPropertySymbols ? Object.getOwnPropertySymbols(target).filter(function (symbol) {\n    return target.propertyIsEnumerable(symbol);\n  }) : [];\n}\n\nfunction getKeys(target) {\n  return Object.keys(target).concat(getEnumerableOwnPropertySymbols(target));\n}\n\nfunction propertyIsOnObject(object, property) {\n  try {\n    return property in object;\n  } catch (_) {\n    return false;\n  }\n} // Protects from prototype poisoning and unexpected merging up the prototype chain.\n\n\nfunction propertyIsUnsafe(target, key) {\n  return propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n  && !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n  && Object.propertyIsEnumerable.call(target, key)); // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n  var destination = {};\n\n  if (options.isMergeableObject(target)) {\n    getKeys(target).forEach(function (key) {\n      destination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n    });\n  }\n\n  getKeys(source).forEach(function (key) {\n    if (propertyIsUnsafe(target, key)) {\n      return;\n    }\n\n    if (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n      destination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n    } else {\n      destination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n    }\n  });\n  return destination;\n}\n\nfunction deepmerge(target, source, options) {\n  options = options || {};\n  options.arrayMerge = options.arrayMerge || defaultArrayMerge;\n  options.isMergeableObject = options.isMergeableObject || isMergeableObject; // cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n  // implementations can use it. The caller may not replace it.\n\n  options.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n  var sourceIsArray = Array.isArray(source);\n  var targetIsArray = Array.isArray(target);\n  var sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n  if (!sourceAndTargetTypesMatch) {\n    return cloneUnlessOtherwiseSpecified(source, options);\n  } else if (sourceIsArray) {\n    return options.arrayMerge(target, source, options);\n  } else {\n    return mergeObject(target, source, options);\n  }\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n  if (!Array.isArray(array)) {\n    throw new Error('first argument should be an array');\n  }\n\n  return array.reduce(function (prev, next) {\n    return deepmerge(prev, next, options);\n  }, {});\n};\n\nvar deepmerge_1 = deepmerge;\nvar cjs = deepmerge_1;\n\nclass PrefabComponent {\n  get type() {\n    return this.componentDef.type;\n  }\n\n  constructor(componentDef, properties = {}, overwrite = true) {\n    this.componentDef = componentDef;\n    this.properties = properties;\n    this.overwrite = overwrite;\n  }\n\n  applyToEntity(entity, initialProps = {}) {\n    if (!this.componentDef.allowMultiple && entity.has(this.componentDef)) {\n      if (this.overwrite) {\n        entity.remove(this.componentDef);\n      } else {\n        console.log(`Ignoring prefab component \"${this.type}\" since the entity \"${entity.id}\" already has one.`);\n        return;\n      }\n    }\n\n    const props = cjs(this.properties, initialProps);\n    entity.add(this.componentDef, props);\n  }\n\n}\n\nclass Prefab {\n  constructor(ecs, name) {\n    _defineProperty(this, \"name\", '');\n\n    _defineProperty(this, \"inherit\", []);\n\n    _defineProperty(this, \"components\", []);\n\n    this.ecs = ecs;\n    this.name = name;\n  }\n\n  addComponent(prefabComponent) {\n    this.components.push(prefabComponent);\n  }\n\n  applyToEntity(entity, initialProps = {}) {\n    this.inherit.forEach(parent => {\n      parent.applyToEntity(entity, initialProps);\n    });\n    const arrComps = {};\n    this.components.forEach((component, i) => {\n      const definition = component.componentDef;\n      const accessor = this.ecs.components.getAccessor(definition.type);\n      let initialCompProps = {};\n\n      if (definition.allowMultiple) {\n        if (definition.keyProperty) {\n          const key = component.properties[definition.keyProperty];\n\n          if (initialProps[accessor] && initialProps[accessor][key]) {\n            initialCompProps = initialProps[accessor][key];\n          }\n        } else {\n          if (!arrComps[accessor]) {\n            arrComps[accessor] = 0;\n          }\n\n          if (initialProps[accessor] && initialProps[accessor][arrComps[accessor]]) {\n            initialCompProps = initialProps[accessor][arrComps[accessor]];\n          }\n\n          arrComps[accessor]++;\n        }\n      } else {\n        initialCompProps = initialProps[accessor];\n      }\n\n      component.applyToEntity(entity, initialCompProps);\n    });\n    return entity;\n  }\n\n}\n\nclass PrefabRegistry {\n  constructor(ecs) {\n    _prefabs.set(this, {\n      writable: true,\n      value: {}\n    });\n\n    _ecs$2.set(this, {\n      writable: true,\n      value: null\n    });\n\n    _classPrivateFieldSet(this, _ecs$2, ecs);\n  }\n\n  deserialize(data) {\n    const registered = this.get(data.name);\n\n    if (registered) {\n      return registered;\n    }\n\n    const prefab = new Prefab(_classPrivateFieldGet(this, _ecs$2), data.name);\n    let inherit;\n\n    if (Array.isArray(data.inherit)) {\n      inherit = data.inherit;\n    } else if (typeof data.inherit === 'string') {\n      inherit = [data.inherit];\n    } else {\n      inherit = [];\n    }\n\n    prefab.inherit = inherit.map(parent => {\n      const ref = this.get(parent);\n\n      if (!ref) {\n        console.warn(`Prefab \"${data.name}\" cannot inherit from Prefab \"${parent}\" because is not registered yet! Prefabs must be registered in the right order.`);\n        return parent;\n      }\n\n      return ref;\n    });\n    const comps = data.components || [];\n\n    for (const componentData of comps) {\n      if (typeof componentData === 'string' || componentData.prototype instanceof Component) {\n        const def = _classPrivateFieldGet(this, _ecs$2).components.get(componentData);\n\n        if (def) {\n          prefab.addComponent(new PrefabComponent(def));\n        }\n      } else if (typeof componentData === 'object') {\n        const type = componentData.type;\n\n        const def = _classPrivateFieldGet(this, _ecs$2).components.get(type);\n\n        if (def) {\n          prefab.addComponent(new PrefabComponent(def, componentData.properties, componentData.overwrite));\n        }\n      } else {\n        console.warn(`Unrecognized component reference \"${componentData}\" in prefab \"${data.name}\". Ensure the component is registered before the prefab.`);\n      }\n    }\n\n    this.register(prefab);\n    return prefab;\n  }\n\n  register(prefab) {\n    _classPrivateFieldGet(this, _prefabs)[prefab.name] = prefab;\n  }\n\n  get(nameOrClassOrPrefab) {\n    const name = PrefabRegistry._getName(nameOrClassOrPrefab);\n\n    return _classPrivateFieldGet(this, _prefabs)[name];\n  }\n\n  create(nameOrClass, initialProps = {}) {\n    const prefab = this.get(nameOrClass);\n\n    if (!prefab) {\n      console.warn(`Could not instantiate prefab for ${nameOrClass} since it is not registered`);\n      return;\n    }\n\n    const entity = _classPrivateFieldGet(this, _ecs$2).createEntity();\n\n    prefab.applyToEntity(entity, initialProps);\n    return entity;\n  }\n\n  static _getName(nameOrClassOrPrefab) {\n    if (typeof nameOrClassOrPrefab === 'string') {\n      return nameOrClassOrPrefab;\n    }\n\n    if (nameOrClassOrPrefab instanceof Prefab) {\n      return nameOrClassOrPrefab.name;\n    }\n\n    if (nameOrClassOrPrefab.prototype instanceof Prefab) {\n      return nameOrClassOrPrefab.name;\n    }\n\n    return null;\n  }\n\n}\n\nvar _prefabs = new WeakMap();\n\nvar _ecs$2 = new WeakMap();\n\n// This alphabet uses `A-Za-z0-9_-` symbols. The genetic algorithm helped\n// optimize the gzip compression for this alphabet.\nlet urlAlphabet = 'ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW';\n\nlet nanoid = (size = 21) => {\n  let id = ''; // A compact alternative for `for (var i = 0; i < step; i++)`.\n\n  let i = size;\n\n  while (i--) {\n    // `| 0` is more compact and faster than `Math.floor()`.\n    id += urlAlphabet[Math.random() * 64 | 0];\n  }\n\n  return id;\n};\n\nclass EntityEvent {\n  get prevented() {\n    return _classPrivateFieldGet(this, _prevented);\n  }\n\n  get handled() {\n    return _classPrivateFieldGet(this, _handled);\n  }\n\n  constructor(name, data = {}) {\n    _defineProperty(this, \"data\", {});\n\n    _prevented.set(this, {\n      writable: true,\n      value: false\n    });\n\n    _handled.set(this, {\n      writable: true,\n      value: false\n    });\n\n    this.name = name;\n    this.data = data;\n  }\n\n  is(name) {\n    return this.name === name;\n  }\n\n  handle() {\n    _classPrivateFieldSet(this, _handled, true);\n\n    _classPrivateFieldSet(this, _prevented, true);\n  }\n\n  prevent() {\n    _classPrivateFieldSet(this, _prevented, true);\n  }\n\n}\n\nvar _prevented = new WeakMap();\n\nvar _handled = new WeakMap();\n\nclass Entity {\n  get ecs() {\n    return _classPrivateFieldGet(this, _ecs$3);\n  }\n\n  get components() {\n    return _classPrivateFieldGet(this, _components);\n  }\n\n  get isDestroyed() {\n    return _classPrivateFieldGet(this, _isDestroyed$1);\n  }\n\n  constructor(ecs, id = null) {\n    _id.set(this, {\n      writable: true,\n      value: null\n    });\n\n    _components.set(this, {\n      writable: true,\n      value: {}\n    });\n\n    _ecs$3.set(this, {\n      writable: true,\n      value: null\n    });\n\n    _isDestroyed$1.set(this, {\n      writable: true,\n      value: false\n    });\n\n    _classPrivateFieldSet(this, _ecs$3, ecs);\n\n    _classPrivateFieldSet(this, _id, id || ecs.generateId());\n\n    Object.defineProperty(this, 'id', {\n      value: _classPrivateFieldGet(this, _id),\n      enumerable: true,\n      writable: false\n    });\n  }\n\n  has(typeOrClass, key = null) {\n    const type = this.ecs.components._getType(typeOrClass);\n\n    const accessor = this.ecs.components.getAccessor(type);\n    const hasType = this.hasOwnProperty(accessor);\n\n    if (hasType && key) {\n      return this[accessor].hasOwnProperty(key);\n    }\n\n    return hasType;\n  }\n\n  get(typeOrClass, key = null) {\n    const type = this.ecs.components._getType(typeOrClass);\n\n    const accessor = this.ecs.components.getAccessor(type);\n    const components = this[accessor];\n\n    if (components && key) {\n      return components[key];\n    }\n\n    return components;\n  }\n\n  destroy() {\n    _classPrivateFieldSet(this, _isDestroyed$1, true);\n\n    for (const component of Object.values(this.components)) {\n      if (component instanceof Component) {\n        component.destroy();\n      } else {\n        for (const nestedComponent of Object.values(component)) {\n          nestedComponent.destroy();\n        }\n      }\n    }\n\n    this.ecs.entities.onEntityDestroyed(this);\n  }\n\n  add(typeOrClass, properties = {}) {\n    const component = this.ecs.components.create(typeOrClass, properties);\n\n    if (!component) {\n      console.warn(`\"${typeOrClass}\" component cannot be added, since it is not registered.`);\n      return false;\n    }\n\n    return this.attach(component);\n  }\n\n  attach(component) {\n    const accessor = this.ecs.components.getAccessor(component.type);\n\n    if (!component.allowMultiple) {\n      if (this.has(component.type)) {\n        console.warn(`\"${component.type}\" component has allowMultiple set to ${component.allowMultiple}. Trying to add a \"${component.type}\" component to an entity which already has one.`);\n        return false;\n      }\n\n      this.components[accessor] = component;\n      Object.defineProperty(this, accessor, {\n        enumerable: true,\n        configurable: true,\n\n        get() {\n          return this.components[accessor];\n        }\n\n      });\n\n      component._onAttached(this);\n\n      this.ecs.queries.onComponentAdded(this);\n      return true;\n    }\n\n    if (!component.keyProperty) {\n      if (!this.components[accessor]) {\n        this.components[accessor] = [];\n        Object.defineProperty(this, accessor, {\n          configurable: true,\n          enumerable: true,\n\n          get() {\n            return this.components[accessor];\n          }\n\n        });\n      }\n\n      this.components[accessor].push(component);\n\n      component._onAttached(this);\n\n      this.ecs.queries.onComponentAdded(this);\n      return true;\n    }\n\n    if (!component.key) {\n      console.warn(`\"${component.type}\" component has a falsy key of \"${component.key}\". The keyProperty is set to \"${component.keyProperty}\".`);\n      return false;\n    }\n\n    if (!this.components[accessor]) {\n      this.components[accessor] = {};\n      Object.defineProperty(this, accessor, {\n        configurable: true,\n        enumerable: true,\n\n        get() {\n          return this.components[accessor];\n        }\n\n      });\n    }\n\n    this.components[accessor][component.key] = component;\n\n    component._onAttached(this);\n\n    this.ecs.queries.onComponentAdded(this, component);\n    return true;\n  }\n\n  owns(component) {\n    return component.entity === this;\n  }\n\n  remove(typeOrClassOrComponent, key = null) {\n    const isComponent = typeOrClassOrComponent instanceof Component;\n    key = isComponent ? typeOrClassOrComponent.key : key;\n    const definition = this.ecs.components.get(typeOrClassOrComponent);\n    const accessor = this.ecs.components.getAccessor(definition.type);\n\n    if (definition.allowMultiple) {\n      if (!definition.keyProperty) {\n        if (isComponent) {\n          const all = this.components[accessor];\n\n          if (!all) {\n            console.warn(`Trying to remove a \"${definition.type}\" component from an entity, but it wasn't found.`);\n            return;\n          }\n\n          const index = all.indexOf(typeOrClassOrComponent);\n\n          if (index > -1) {\n            all.splice(index, 1);\n\n            typeOrClassOrComponent._onDetached();\n\n            if (all.length === 0) {\n              delete this[accessor];\n              delete this.components[accessor];\n            }\n\n            this.ecs.queries.onComponentRemoved(this);\n            return true;\n          }\n        } else {\n          for (const instance of this.components[accessor]) {\n            instance._onDetached();\n          }\n\n          delete this[accessor];\n          delete this.components[accessor];\n          this.ecs.queries.onComponentRemoved(this);\n          return true;\n        }\n      }\n\n      if (!key) {\n        console.warn(`Trying to remove a \"${definition.type}\" component which allows multiple without specifying an key.`);\n        return;\n      }\n\n      const all = this.components[accessor];\n      const component = all[key];\n\n      if (component) {\n        delete all[key];\n\n        component._onDetached();\n\n        if (Object.keys(all).length <= 0) {\n          delete this[accessor];\n          delete this.components[accessor];\n        }\n\n        this.ecs.queries.onComponentRemoved(this);\n        return component;\n      } else {\n        console.warn(`Trying to remove a \"${definition.type}\" component from an entity at \"${key}\", but it wasn't found.`);\n        return;\n      }\n    }\n\n    if (accessor in this) {\n      const component = this.components[accessor];\n      delete this[accessor];\n      delete this.components[accessor];\n\n      component._onDetached();\n\n      this.ecs.queries.onComponentRemoved(this);\n      return component;\n    }\n\n    console.warn(`Trying to remove a \"${definition.type}\" component from an entity, but it wasn't found.`);\n  }\n\n  serialize() {\n    return Object.entries(this.components).reduce((o, [key, value]) => {\n      if (value instanceof Component) {\n        return { ...o,\n          [key]: value.serialize()\n        };\n      }\n\n      if (Array.isArray(value)) {\n        return { ...o,\n          [key]: value.map(v => v.serialize())\n        };\n      }\n\n      return { ...o,\n        [key]: Object.entries(value).reduce((o2, [k2, v2]) => ({ ...o2,\n          [k2]: v2.serialize()\n        }), {})\n      };\n    }, {\n      id: this.id\n    });\n  }\n\n  fireEvent(name, data) {\n    const evt = new EntityEvent(name, data);\n\n    for (const component of Object.values(this.components)) {\n      if (component instanceof Component) {\n        component._onEvent(evt);\n\n        if (evt.prevented) {\n          return evt;\n        }\n      } else {\n        for (const nestedComponent of Object.values(component)) {\n          nestedComponent._onEvent(evt);\n\n          if (evt.prevented) {\n            return evt;\n          }\n        }\n      }\n    }\n\n    return evt;\n  }\n\n}\n\nvar _id = new WeakMap();\n\nvar _components = new WeakMap();\n\nvar _ecs$3 = new WeakMap();\n\nvar _isDestroyed$1 = new WeakMap();\n\nclass EntityRegistry {\n  constructor(ecs) {\n    _entities.set(this, {\n      writable: true,\n      value: new Map()\n    });\n\n    _ecs$4.set(this, {\n      writable: true,\n      value: null\n    });\n\n    _refs.set(this, {\n      writable: true,\n      value: new Map()\n    });\n\n    _classPrivateFieldSet(this, _ecs$4, ecs);\n  }\n\n  get all() {\n    return _classPrivateFieldGet(this, _entities).values();\n  }\n\n  register(entity) {\n    _classPrivateFieldGet(this, _entities).set(entity.id, entity);\n\n    return entity;\n  }\n\n  get(id) {\n    return _classPrivateFieldGet(this, _entities).get(id);\n  }\n\n  createOrGetById(id) {\n    const entity = this.get(id);\n\n    if (entity) {\n      return entity;\n    }\n\n    return this.create(id);\n  }\n\n  create(id = undefined) {\n    const entity = new Entity(_classPrivateFieldGet(this, _ecs$4), id);\n    this.register(entity);\n\n    _classPrivateFieldGet(this, _ecs$4).queries.onEntityCreated(entity);\n\n    return entity;\n  }\n\n  destroy(entity) {\n    entity.destroy();\n  }\n\n  onEntityDestroyed(entity) {\n    this.cleanupRefs(entity);\n\n    _classPrivateFieldGet(this, _entities).delete(entity.id);\n\n    _classPrivateFieldGet(this, _ecs$4).queries.onEntityDestroyed(entity);\n  }\n\n  cleanupRefs(entity) {\n    const refs = _classPrivateFieldGet(this, _refs).get(entity.id);\n\n    if (!refs) {\n      return;\n    }\n\n    for (const ref of refs) {\n      ref.cleanupReference(entity);\n    }\n\n    delete _classPrivateFieldGet(this, _refs)[entity.id];\n  }\n\n  addRef(entityId, property) {\n    if (!_classPrivateFieldGet(this, _refs).has(entityId)) {\n      _classPrivateFieldGet(this, _refs).set(entityId, new Set([property]));\n\n      return;\n    }\n\n    _classPrivateFieldGet(this, _refs).get(entityId).add(property);\n  }\n\n  removeRef(entityId, property) {\n    if (_classPrivateFieldGet(this, _refs).has(entityId)) {\n      _classPrivateFieldGet(this, _refs).get(entityId).delete(property);\n    }\n  }\n\n  serialize() {\n    const json = [];\n\n    _classPrivateFieldGet(this, _entities).forEach(entity => {\n      json.push(entity.serialize());\n    });\n\n    return json;\n  }\n\n  deserialize(data) {\n    for (const entityData of data.entities) {\n      this.createOrGetById(entityData.id);\n    }\n\n    for (const entityData of data.entities) {\n      this.deserializeEntity(entityData);\n    }\n  }\n\n  deserializeEntity(data) {\n    const {\n      id,\n      ...componentData\n    } = data;\n    const entity = this.createOrGetById(id);\n    Object.entries(componentData).forEach(([key, value]) => {\n      const type = camelcase(key, {\n        pascalCase: true\n      });\n\n      const definition = _classPrivateFieldGet(this, _ecs$4).components.get(type);\n\n      if (definition.allowMultiple) {\n        Object.values(value).forEach(d => {\n          entity.add(definition, d);\n        });\n      } else {\n        entity.add(definition, value);\n      }\n    });\n  }\n\n}\n\nvar _entities = new WeakMap();\n\nvar _ecs$4 = new WeakMap();\n\nvar _refs = new WeakMap();\n\nclass Query {\n  constructor(ecs, filter = {}) {\n    _ecs$5.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    _filter.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    _cache.set(this, {\n      writable: true,\n      value: new Set()\n    });\n\n    _classPrivateFieldSet(this, _ecs$5, ecs);\n\n    _classPrivateFieldSet(this, _filter, cjs({\n      any: [],\n      all: [],\n      none: []\n    }, filter));\n\n    this.bustCache();\n  }\n\n  isMatch(entity) {\n    const hasAny = _classPrivateFieldGet(this, _filter).any.length ? _classPrivateFieldGet(this, _filter).any.some(c => entity.has(c)) : true;\n\n    const hasAll = _classPrivateFieldGet(this, _filter).all.every(c => entity.has(c));\n\n    const hasNone = !_classPrivateFieldGet(this, _filter).none.some(c => entity.has(c));\n    return hasAny && hasAll && hasNone;\n  }\n\n  candidate(entity) {\n    if (this.isMatch(entity)) {\n      _classPrivateFieldGet(this, _cache).add(entity);\n\n      return true;\n    }\n\n    _classPrivateFieldGet(this, _cache).delete(entity);\n\n    return false;\n  }\n\n  _onEntityCreated(entity) {\n    this.candidate(entity);\n  }\n\n  _onComponentAdded(entity) {\n    this.candidate(entity);\n  }\n\n  _onComponentRemoved(entity) {\n    this.candidate(entity);\n  }\n\n  _onEntityDestroyed(entity) {\n    _classPrivateFieldGet(this, _cache).delete(entity);\n  }\n\n  bustCache() {\n    _classPrivateFieldGet(this, _cache).clear();\n\n    for (const entity of _classPrivateFieldGet(this, _ecs$5).entities.all) {\n      this.candidate(entity);\n    }\n\n    return _classPrivateFieldGet(this, _cache);\n  }\n\n  get() {\n    return _classPrivateFieldGet(this, _cache);\n  }\n\n}\n\nvar _ecs$5 = new WeakMap();\n\nvar _filter = new WeakMap();\n\nvar _cache = new WeakMap();\n\nclass QueryRegistry {\n  constructor(ecs) {\n    _ecs$6.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    _queries.set(this, {\n      writable: true,\n      value: []\n    });\n\n    _classPrivateFieldSet(this, _ecs$6, ecs);\n  }\n\n  create(filters) {\n    const query = new Query(_classPrivateFieldGet(this, _ecs$6), filters);\n\n    _classPrivateFieldGet(this, _queries).push(query);\n\n    return query;\n  }\n\n  onComponentAdded(entity) {\n    _classPrivateFieldGet(this, _queries).forEach(query => query._onComponentAdded(entity));\n  }\n\n  onComponentRemoved(entity) {\n    _classPrivateFieldGet(this, _queries).forEach(query => query._onComponentRemoved(entity));\n  }\n\n  onEntityCreated(entity) {\n    _classPrivateFieldGet(this, _queries).forEach(query => query._onEntityCreated(entity));\n  }\n\n  onEntityDestroyed(entity) {\n    _classPrivateFieldGet(this, _queries).forEach(query => query._onEntityDestroyed(entity));\n  }\n\n}\n\nvar _ecs$6 = new WeakMap();\n\nvar _queries = new WeakMap();\n\nclass Engine {\n  constructor() {\n    this.idGenerator = () => nanoid();\n\n    this.components = new ComponentRegistry(this);\n    this.prefabs = new PrefabRegistry(this);\n    this.entities = new EntityRegistry(this);\n    this.queries = new QueryRegistry(this);\n  }\n\n  generateId() {\n    return this.idGenerator();\n  }\n\n  createEntity() {\n    return this.entities.create();\n  }\n\n  createPrefab(nameOrClass, initialProps = {}) {\n    return this.prefabs.create(nameOrClass, initialProps);\n  }\n\n  destroyEntity(entity) {\n    return this.entities.destroy(entity);\n  }\n\n  registerPrefab(data) {\n    this.prefabs.deserialize(data);\n  }\n\n  registerComponent(component) {\n    this.components.register(component);\n  }\n\n  getEntity(id) {\n    return this.entities.get(id);\n  }\n\n  createComponent(type, properties) {\n    return this.components.create(type, properties);\n  }\n\n  createQuery(filters) {\n    return this.queries.create(filters);\n  }\n\n  serialize() {\n    return {\n      entities: this.entities.serialize()\n    };\n  }\n\n  deserialize(data) {\n    if (data.id) {\n      return this.entities.deserializeEntity(data);\n    }\n\n    return this.entities.deserialize(data);\n  }\n\n}\n\nexport { Component, Engine, Prefab };\n//# sourceMappingURL=index.js.map\n","import color from \"color\";\n\nexport const colors = {\n  defaultColor: color(\"#ff0077\"),\n  defaultBGColor: color(\"#000\"),\n\n  inventoryHighlight: color(\"#A9CCE3\"),\n\n  // light:\n  torchLight: color(\"#FFD00E\"),\n  campfire: color(\"#FFD00E\"),\n\n  // staging:\n  fountain: color(\"#3366FF\"),\n\n  // items:\n  armor: color(\"#DAA520\"),\n  bandage: color(\"#F7DC6F\"),\n  chest: color(\"#DAA520\"),\n  currency: color(\"#DAA520\"),\n  multipleItems: color(\"#DAA520\"),\n  potion: color(\"#DAA520\"),\n  weapon: color(\"#DAA520\"),\n  // log\n  hudText: color(\"#fff\"),\n  healthBar: color(\"#B91906\"),\n  // maps\n  wall: color(\"#AAA\"),\n  floor: color(\"#555\"),\n  cavernFloor: color(\"#71331E\"),\n  stairsUp: color(\"#AAA\"),\n  stairsDown: color(\"#AAA\"),\n  // player\n  player: color(\"#FFF\"),\n  // monsters\n  goblin: color(\"#0C9\"),\n  rat: color(\"#F1948A\")\n};\n\nexport const chars = {\n  defaultChar: \"?\",\n  // staging\n  campfire: \"ô\", // ö o\n  fountain: \"⨀\", // ⦿ ⦾ ◯ ⨀ ⊚\n  // equipment\n  armor: \"[\",\n  weapon: \")\",\n  // containers\n  chest: \"=\",\n  // items\n  currency: \"*\",\n  potion: \"!\",\n  multipleItems: \"&\",\n  item: \"~\",\n  // maps\n  wall: \"#\",\n  floor: \"•\",\n  cavernFloor: \"•\",\n  stairsUp: \"<\",\n  stairsDown: \">\",\n  // tracks\n  track: \"•\",\n  // player\n  player: \"@\",\n  // monsters\n  goblin: \"g\",\n  rat: \"r\"\n};\n","import { Engine, Component } from \"geotic\";\n\nimport { chars, colors } from \"../lib/graphics\";\nimport { layers } from \"../lib/canvas\";\n\nconst ecs = new Engine();\n\n// some player components\nexport class Position extends Component {\n  static properties = { x: 0, y: 0 };\n}\n\nexport class Appearance extends Component {\n  static properties = {\n    color: colors.defaultColor,\n    char: \"?\",\n    background: \"transparent\",\n    layer: layers.ground,\n  };\n}\n\n// all Components and Prefabs must be `registered` by the engine\necs.registerComponent(Position);\necs.registerComponent(Appearance);\n\nconst player = ecs.createEntity();\nplayer.add(Position);\nplayer.add(Appearance, { char: chars.player, color: colors.player });\n\nexport default ecs;\n","import ecs, { Appearance, Position } from \"../state/ecs\";\nimport { clearCanvas, drawCell } from \"../lib/canvas\";\n\nexport const render = () => {\n  clearCanvas();\n  // render map\n  const entities = ecs.createQuery(ecs, {\n    all: [Appearance],\n  });\n\n  entities.get().forEach((entity) => {\n    drawCell(entity);\n  });\n};\n","import \"./style.scss\";\nimport \"./lib/canvas.js\";\nimport { input, processUserInput } from \"./lib/process-user-input\";\n\nimport game from \"./state/game\";\nimport ecs from \"./state/ecs\";\n\nimport { render } from \"./systems/render\";\n\ndocument.addEventListener(\"keydown\", (ev) => input(ev.key));\n\nfunction initGame() {\n  console.log(ecs.serialize());\n}\n\ninitGame();\n\nfunction gameTick() {\n  render();\n}\n\ngameTick();\n\nfunction update() {\n  if (game.userInput && game.playerTurn) {\n    processUserInput();\n    gameTick();\n    game.userInput = null;\n    game.turn = game.turn += 1;\n    game.playerTurn = false;\n  }\n\n  if (!game.playerTurn) {\n    gameTick();\n    game.playerTurn = true;\n  }\n}\n\nfunction gameLoop() {\n  update();\n  requestAnimationFrame(gameLoop);\n}\n\nrequestAnimationFrame(gameLoop);\n","import game from \"../state/game\";\n\nexport const input = (key) => {\n  switch (key) {\n    case \"z\":\n      game.userInput = { key, type: \"REST\", payload: {} };\n      break;\n    case \"ArrowUp\":\n      game.userInput = { key, type: \"MOVE\", payload: { x: 0, y: -1 } };\n      break;\n    case \"ArrowDown\":\n      game.userInput = { key, type: \"MOVE\", payload: { x: 0, y: 1 } };\n      break;\n    case \"ArrowLeft\":\n      game.userInput = { key, type: \"MOVE\", payload: { x: -1, y: 0 } };\n      break;\n    case \"ArrowRight\":\n      game.userInput = { key, type: \"MOVE\", payload: { x: 1, y: 0 } };\n      break;\n    case \"Escape\": {\n      game.userInput = { key, type: \"ESCAPE\", payload: {} };\n      break;\n    }\n  }\n};\n\nexport const processUserInput = () => {\n  if (!game.userInput) {\n    return;\n  }\n\n  const { key, type, payload } = game.userInput;\n\n  console.log({ key, type, payload, raw: game.userInput });\n  // const player = getPlayer();\n\n  // if (type === \"MOVE\") {\n  //   player.addComponent(\"moveTo\", payload);\n  // }\n};\n"],"sourceRoot":""}